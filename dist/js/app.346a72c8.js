(function(e){function t(t){for(var a,i,o=t[0],s=t[1],p=t[2],c=0,d=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(d.length)d.shift()();return u.push.apply(u,p||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r={app:0},u=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-113dd4df":"f87c9472","chunk-2c692ccb":"f380027e","chunk-11c60ab6":"ee9e92a4","chunk-243128de":"f0e00bcf","chunk-32b545b2":"05552722","chunk-65bda615":"e3bd269f","chunk-741d7b32":"ff83f7d5","chunk-827585d6":"f1d77df4","chunk-d651afa0":"ebbd815e"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-113dd4df":1,"chunk-2c692ccb":1,"chunk-11c60ab6":1,"chunk-243128de":1,"chunk-32b545b2":1,"chunk-65bda615":1,"chunk-741d7b32":1,"chunk-827585d6":1,"chunk-d651afa0":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-113dd4df":"51b7d572","chunk-2c692ccb":"45e7f83b","chunk-11c60ab6":"c6fe7475","chunk-243128de":"8ea0ad5a","chunk-32b545b2":"7dba4cb3","chunk-65bda615":"ce7514f4","chunk-741d7b32":"bfa5143e","chunk-827585d6":"227cce0a","chunk-d651afa0":"7e157ab2"}[e]+".css",r=s.p+a,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var p=u[o],c=p.getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(c===a||c===r))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){p=d[o],c=p.getAttribute("data-href");if(c===a||c===r)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||r,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=a,delete i[e],l.parentNode.removeChild(l),n(u)},l.href=r;var y=document.getElementsByTagName("head")[0];y.appendChild(l)})).then((function(){i[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var u=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=u);var p,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=o(e);var d=new Error;p=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}r[e]=void 0}};var l=setTimeout((function(){p({type:"timeout",target:c})}),12e4);c.onerror=c.onload=p,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=t,p=p.slice();for(var d=0;d<p.length;d++)t(p[d]);var l=c;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0f9a":function(e,t,n){"use strict";n.r(t),n.d(t,"ChainEnum",(function(){return r})),n.d(t,"WalletEnum",(function(){return o})),n.d(t,"mainChain",(function(){return s})),n.d(t,"getWallet",(function(){return c}));var a=n("d4ec"),i=n("bee2"),r=(n("b0c0"),function(){function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n("e02a");Object(a["a"])(this,e),this.chainId=t,this.name=i,this.logo=r}return Object(i["a"])(e,null,[{key:"ETH",get:function(){return new e(1,"Ethereum mainnet",n("e02a"))}},{key:"Kovan",get:function(){return new e(42,"Kovan")}},{key:"Goerli",get:function(){return new e(5,"Goerli")}},{key:"Rinkeby",get:function(){return new e(4,"Rinkeby")}},{key:"Ropsten",get:function(){return new e(3,"Ropsten")}},{key:"Morden",get:function(){return new e(2,"Morden")}}]),e}()),u={1:r.ETH,2:r.Morden,3:r.Ropsten,4:r.Rinkeby,5:r.Goerli,42:r.Kovan},o=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"MetaMask",get:function(){return"MetaMask"}}]),e}(),s=r.ETH,p={selectedAddress:"",showWallet:!1,chainEnum:s,isEthum:!1,networkVersion:"",isMetaMask:!1};function c(){if(!window.ethereum)return{selectedAddress:null,chainId:"1",networkVersion:null,isMetaMask:!1};var e=window.ethereum;return{selectedAddress:e.selectedAddress,showWallet:!e.selectedAddress,chainEnum:u[parseInt(e.chainId)],isEthum:s.chainId===parseInt(e.chainId),networkVersion:e.networkVersion,isMetaMask:e.isMetaMask}}var d={setShowWallet:function(e,t){e.showWallet=t},updateState:function(e,t){e=Object.assign(e,t)}},l={checkLogin:function(e){e.commit,e.dispatch}};t["default"]={namespaced:!0,state:p,mutations:d,actions:l}},1:function(e,t){},10:function(e,t){},11:function(e,t){},2:function(e,t){},2395:function(e,t,n){},2465:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return m}));n("d4ec"),n("ade3");var a=n("1da1"),i=(n("96cf"),n("b775")),r="http://13.125.43.43:8081/api/trade_records/",u="http://13.125.43.43:8081/api/trader_balance/",o="//13.125.43.43:8081/api/position_mining_events/",s="//13.125.43.43:8081/api/token_price_events/";function p(e){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="0xA0F53B952005A57260B19143708Bcd34eB6F78b6",e.next=3,i["a"](r+t);case 3:if(n=e.sent,!n){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="0xA0F53B952005A57260B19143708Bcd34eB6F78b6",e.next=3,i["a"](u+t);case 3:if(n=e.sent,console.log(n),!n){e.next=7;break}return e.abrupt("return",n.data);case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function y(e,t){e="0xF3A6679B266899042276804930B3bFBaf807F15b";var n=new EventSource(o+e);return n.onmessage=function(n){var a=JSON.parse(n.data);t(e,a)},n}function m(e,t){var n=new EventSource(s+e);return n.onmessage=function(n){var a=JSON.parse(n.data);t(e,a)},n}},3:function(e,t){},4:function(e,t){},4360:function(e,t,n){"use strict";n("d3b7"),n("ddb0"),n("ac1f"),n("5319");var a=n("2b0e"),i=n("2f62"),r={token:function(e){return e.user.token}},u=r;a["a"].use(i["a"]);var o=n("c653"),s=o.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),a=o(t);return e[n]=a.default,e}),{}),p=new i["a"].Store({modules:s,getters:u});t["a"]=p},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("5319"),n("4d63"),n("25f0");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],u=(n("7c55"),n("2877")),o={},s=Object(u["a"])(o,i,r,!1,null,null,null),p=s.exports,c=n("a18c"),d=n("4360"),l=n("b970"),y=(n("833e"),n("a4b1"),n("313e")),m=(n("9108"),n("4de4"),n("fa7d"));a["a"].filter("fck",(function(e,t,n){return Object(m["c"])(e,t,n)})),a["a"].filter("dfv",(function(e,t){return Object(m["b"])(e,t)})),a["a"].filter("amountFormt",(function(e,t,n,a){return Object(m["a"])(e,t,n,a)}));n("f810");var f=n("a925"),T="zh";try{var h=sessionStorage.getItem("locale"),g=JSON.parse(h||"{}");console.log(g,9999),g.lng&&(T=g.lng)}catch(v){}a["a"].use(f["a"]);var b=new f["a"]({locale:T,messages:{zh:n("d1cb"),en:n("5eeb")}});a["a"].prototype.$echarts=y,a["a"].use(l["a"]),a["a"].config.productionTip=!1,Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds(),W:["日","一","二","三","四","五","六"][this.getDay()]};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},new a["a"]({router:c["a"],i18n:b,store:d["a"],render:function(e){return e(p)}}).$mount("#app"),window.ethereum&&(window.ethereum.on("accountsChanged",(function(){location.reload()})),window.ethereum.on("networkChanged",(function(){location.reload()})))},"5eeb":function(e){e.exports=JSON.parse('{"lng":"en","navbar":{"Home":"Home","Trade":"Trade","Rewards":"Rewards","Partners":"Partners","Data":"Data","Connect Wallet":"Connect Wallet"},"Brokers":{"Brokers":"Brokers","AccBalance":"Acc. Balance","Withdraw":"Withdraw","DailyEarning":"Daily Earning","AccumulatedEarning":"Accumulated Earning","PrivilegeValiduntil":"Privilege Valid until","MyReferralPage":"My referral page","Days":"Days","Until":"Until","Burn":"Burn","Note":"Note","NoteDerify1":"Derify has Partner system, traders will be trading on our Partner’s page, Derify does not directly provide service.","NoteDerify2":"Partners will receive trading fee rewards and potential DRF rewards.","NoteDerify3":"Partners need to burn eDRF to maintain its privilege. (Current price is 600 eDRF per day).","NoteDerify4":"Once your privilege is expired, you will not be able to receive rewards, but your can resume as our Partner whenever you like.","AccountHistory":"Account History","Type":"Type","Amount":"Amount","Balance":"Balance","Time":"Time","Earnings":"Earnings","TraderInfo":"Trader Info","TraderAddress":"Trader Address","RegistrationDate":"Registration Date","YouPartner":"You are not a Partner","ApplyPartner":"Apply to be Partner","BurnEDRF ":"Burn 60,000 eDRF to get Partners Privilege","AccountBalance":"Account Balance","YouPrivilege":"You Purchased Partner Privilege! ","Close":"Close","Burns":"Burn","Balances":"Balance","UnitPrice":"Unit Price","BurnAmount":"Burn Amount","ValidDays":"Valid Period","NoMoreData":"No more data","cancel":"cancel","affirm":"affirm"},"data":{"Data":"Data","TradingVolume":"Trading Volume","All":"All","TradFeeEarning":"Trad Fee Earning","PositionVolume":"Position Volume","TotalLong":"Total Long","TotalShort":"Total Short","InsurancePool":"Insurance Pool","InsurancePoolBalance":"Insurance Pool Balance","Info":"Info","Price":"Price","TotalDestroyedVolume":"Total Destroyed Volume","BuyBackFundBalance":"Buy Back Fund Balance","BondPoolBalance":"Bond Pool Balance","NoMoreData":"No more data","dealingSlip":"dealing Slip","contract":"contract","type":"type","freightSpace":"freight Space","Time":"Time","open":"开","more":"多"}}')},6:function(e,t){},6189:function(e,t,n){"use strict";n.r(t),n.d(t,"SideEnum",(function(){return T}));var a=n("d4ec"),i=n("bee2"),r=n("1da1"),u=n("8468"),o=n("5530");n("96cf"),n("d3b7"),n("c740");function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";n=t?sessionStorage.getItem(e):localStorage.getItem(e);var a=n?JSON.parse(n):null;return a&&a.expiration>Date.now()?a.data:null}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6048e5;if(!t)return c(e),!1;var i={data:t,expiration:Date.now()+a};n?sessionStorage.setItem(e,JSON.stringify(i)):localStorage.setItem(e,JSON.stringify(i))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?sessionStorage.removeItem(e):localStorage.removeItem(e)}var d=n("9108"),l=(n("b775"),n("2465")),y={wallet_address:void 0!==window.ethereum?ethereum.selectedAddress:void 0,account:s("account")||null,pairs:[{key:"BTC",name:"BTC / USDT",num:2030.23,percent:1.23,enable:!0,address:"0x7afe7373126eb5ef766caad2072c4a87810fbfa3"},{key:"ETH",name:"ETH / USDT",num:2930.79,percent:-1.23,enable:!0,address:"0xf3a6679b266899042276804930b3bfbaf807f15b"},{key:"BNB",name:"BNB / USDT",num:0,percent:0,enable:!1,address:"0xf3a6679b266899042276804930b3bfbaf807f15b"},{key:"UNI",name:"UNI / USDT",num:0,percent:0,enable:!1,address:"0xf3a6679b266899042276804930b3bfbaf807f15b"}],curPairKey:"ETH",contractData:{positionChangeFeeRatio:"-",traderOpenUpperBound:"-",longPmrRate:"-",shortPmrRate:"-",tokenPriceRate:"-",curSpotPrice:0},accountData:{balance:0,marginBalance:0,totalMargin:0},positionData:[],limitPositionData:[],curSpotPrice:0},m={SET_WALLET_ADDRESS:function(e,t){e.wallet_address=t,p("wallet_address",t)},SET_ACCOUNT:function(e,t){e.account=t,p("account",t)},SET_CURPAIRKEY:function(e,t){e.curPairKey=t},SET_CURSPOTPRICE:function(e,t){e.curSpotPrice=t},SET_CONTRACT_DATA:function(e,t){e.contractData=Object.assign({},e.contractData,Object(o["a"])({},t))},SET_ACCOUNT_DATA:function(e,t){e.accountData=t},SET_POSITION_DATA:function(e,t){e.positionData=t},SET_LIMIT_POSITION_DATA:function(e,t){e.limitPositionData=t}},f={loginWallet:function(e){var t=e.commit,n=e.dispatch;return new Promise((function(e,a){d["b"]().then((function(e){t("SET_WALLET_ADDRESS",e[0]),n("setAccount")})).catch((function(e){return a(e)}))}))},setAccount:function(e){var t=e.commit,n=e.state;return new Promise((function(e,a){n.wallet_address?d["c"](n.wallet_address).then((function(n){t("SET_ACCOUNT",n),e(n)})).catch((function(e){return a(e)})):a(new Error("log in wallet first"))}))},depositAccount:function(e,t){var n=e.state;return new Promise((function(e,a){n.wallet_address?d["a"](n.wallet_address).deposit(t).then((function(t){return e(t)})).catch((function(e){return a(e)})):a(new Error("log in wallet first"))}))},withdrawAccount:function(e,t){var n=e.state;return new Promise((function(e,a){n.wallet_address?d["a"](n.wallet_address).withdraw(t).then((function(t){return e(t)})).catch((function(e){return a(e)})):a(new Error("log in wallet first"))}))},getSpotPrice:function(e){var t=e.state,n=e.commit;return new Promise((function(e,a){var i=t.pairs.findIndex((function(e){return e.key===t.curPairKey}));void 0===i&&(i=0);var r=t.pairs[i];d["a"](t.wallet_address).getSpotPrice(r.address).then((function(t){n("SET_CURSPOTPRICE",t),e(t)})).catch((function(e){return a(e)}))}))},openPosition:function(e,t){var n=e.state,a=t.side,i=t.size,r=t.openType,u=t.price,o=t.leverage;return new Promise((function(e,t){var s=n.pairs.findIndex((function(e){return e.key===n.curPairKey}));void 0===s&&(s=0);var p=n.pairs[s];d["a"](n.wallet_address).openPosition(p.address,a,r,i,u,o).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},closePosition:function(e,t){var n=e.state,a=t.coinAddress,i=t.side,r=t.size;return new Promise((function(e,t){d["a"](n.wallet_address).closePosition(a,i,r).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},orderStopPosition:function(e,t){var n=e.state,a=t.coinAddress,i=t.side,r=t.stopType,u=t.stopPrice;return new Promise((function(e,t){d["a"](n.wallet_address).orderStopPosition(a,i,r,u).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},closeAllPositions:function(e,t){var n=e.state;return Object(u["a"])(t),new Promise((function(e,t){d["a"](n.wallet_address).closeAllPositions().then((function(t){e(t)})).catch((function(e){return t(e)}))}))},cancleOrderedPosition:function(e,t){var n=e.state,a=t.coinAddress,i=t.orderType,r=t.side,u=t.timestamp;return new Promise((function(e,t){d["a"](n.wallet_address).cancleOrderedPosition(a,i,r,u).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},cancleAllOrderedPositions:function(e,t){var n=e.state,a=t.coinAddress;return new Promise((function(e,t){d["a"](n.wallet_address).cancleAllOrderedPositions(a).then((function(t){e(t)})).catch((function(e){return t(e)}))}))},getMarketAccount:function(e){var t=e.state;return t.wallet_address?new Promise((function(e,n){var a=t.pairs.findIndex((function(e){return e.key===t.curPairKey}));d["d"](t.wallet_address,a).then((function(t){e(t)})).catch((function(e){return n(e)}))})):{}},loadHomeData:function(e){var t=e.state,n=e.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,r,u,o,s,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i={curSpotPrice:0,positionChangeFeeRatio:0},t.wallet_address){e.next=3;break}return e.abrupt("return",{});case 3:return r=d["a"](t.wallet_address),u=t.pairs.findIndex((function(e){return e.key===t.curPairKey})),void 0===u&&(u=0),o=t.pairs[u],e.next=9,r.getSpotPrice(o.address);case 9:return i.curSpotPrice=e.sent,e.next=12,r.getPositionChangeFeeRatio(o.address);case 12:return i.positionChangeFeeRatio=e.sent,s=i.curSpotPrice,p=1e8,e.next=17,r.getTraderOpenUpperBound(o.address,t.wallet_address,a,s,p);case 17:return i.traderOpenUpperBound=e.sent,e.next=20,r.getSysOpenUpperBound(o.address,a);case 20:return i.sysOpenUpperBound=e.sent,i.traderOpenUpperBound=i.sysOpenUpperBound,n("SET_CONTRACT_DATA",i),console.log("loadHomeData",i),e.abrupt("return",i);case 25:case"end":return e.stop()}}),e)})))()},loadAccountData:function(e){var t=e.state,n=e.commit;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.wallet_address){e.next=2;break}return e.abrupt("return",{});case 2:return a=d["a"](t.wallet_address),e.next=5,a.getTraderAccount(t.wallet_address);case 5:return i=e.sent,n("SET_ACCOUNT_DATA",i),console.log("loadAccountData",i),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))()},loadPositionData:function(e){var t=e.state,n=e.commit;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i,r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.wallet_address){e.next=2;break}return e.abrupt("return",{});case 2:return a=d["a"](t.wallet_address),i=t.pairs.findIndex((function(e){return e.key===t.curPairKey})),void 0===i&&(i=0),r=t.pairs[i],e.next=8,a.getTraderAllPosition(t.wallet_address,r.address);case 8:return u=e.sent,console.log("loadPositionData",u),n("SET_POSITION_DATA",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))()},loadOrderedPositionData:function(e,t){var n=e.state,a=e.commit,i=t.coinAddress;return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.wallet_address){e.next=2;break}return e.abrupt("return",{});case 2:return t=n.pairs.findIndex((function(e){return e.key===n.curPairKey})),void 0===t&&(t=0),r=n.pairs[t],i=r.address,u=d["a"](n.wallet_address),e.next=9,u.getTraderAllLimitPosition(n.wallet_address,i);case 9:return o=e.sent,a("SET_LIMIT_POSITION_DATA",o),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))()},loadTradeRecords:function(e){var t=e.state;e.commit;return Object(l["d"])(t.wallet_address)},getTraderOpenUpperBound:function(e,t){var n=e.state,a=(e.commit,t.openType),i=t.price,r=t.leverage,u=n.pairs.findIndex((function(e){return e.key===n.curPairKey}));void 0===u&&(u=0);var o=n.pairs[u],s=o.address,p=d["a"](n.wallet_address);return p.getTraderOpenUpperBound(s,n.wallet_address,a,i,r)},getTraderTradeBalanceDetail:function(e){var t=e.state;e.commit;return Object(l["c"])(t.wallet_address)},onDeposit:function(e){var t=e.state,n=(e.commit,e.dispatch);d["a"](t.wallet_address).onDeposit(t.wallet_address,(function(){n("loadAccountData")}))},onWithDraw:function(e){var t=e.state,n=(e.commit,e.dispatch);d["a"](t.wallet_address).onDeposit(t.wallet_address,(function(){n("loadAccountData")}))}},T=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"LONG",get:function(){return 0}},{key:"SHORT",get:function(){return 1}},{key:"HEDGE",get:function(){return 2}}]),e}();t["default"]={namespaced:!0,state:y,mutations:m,actions:f}},7:function(e,t){},"7c55":function(e,t,n){"use strict";n("2395")},8:function(e,t){},9:function(e,t){},9108:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return m}));n("d3b7");var a=n("99e5"),i=n.n(a),r=[{inputs:[{internalType:"uint256",name:"_maintenanceMarginRatio",type:"uint256"},{internalType:"uint256",name:"_positionFeeRatio",type:"uint256"}],name:"addMarket",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"}],name:"cancelClosePosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"}],name:"cancelOpenPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"clearing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"liquidatePosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"market",type:"uint256"},{indexed:!1,internalType:"enum ClearingHouse.Side",name:"side",type:"uint8"},{indexed:!1,internalType:"uint256",name:"size",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Close",type:"event"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"_size",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"closePosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"market",type:"uint256"},{indexed:!1,internalType:"enum ClearingHouse.Side",name:"side",type:"uint8"},{indexed:!1,internalType:"uint256",name:"size",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"leverage",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Open",type:"event"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"_size",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_leverage",type:"uint256"}],name:"openPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"setSpotPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"checkClearing",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"checkLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"fundBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getAccount",outputs:[{components:[{internalType:"uint256",name:"accountBalance",type:"uint256"},{internalType:"bool",name:"isUsed",type:"bool"}],internalType:"struct ClearingHouse.UserAccount",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getDebtInterest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getFreeDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getFreeLPReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getFreeStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLatestPrice",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getLPReward",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"getMarketAccount",outputs:[{components:[{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position",name:"long",type:"tuple"},{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position",name:"short",type:"tuple"},{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position[]",name:"longOpenPending",type:"tuple[]"},{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position[]",name:"shortOpenPending",type:"tuple[]"},{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position[]",name:"longClosePending",type:"tuple[]"},{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position[]",name:"shortClosePending",type:"tuple[]"}],internalType:"struct ClearingHouse.MarketAccount",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"}],name:"getMarketSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"}],name:"getMarketUnrealizedPnl",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_leverage",type:"uint256"}],name:"getMaxOpenSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getPendingClosePosition",outputs:[{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"getPendingMargin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getPendingOpenPosition",outputs:[{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"},{internalType:"enum ClearingHouse.Side",name:"_side",type:"uint8"}],name:"getPosition",outputs:[{components:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"openPrice",type:"uint256"},{internalType:"uint256",name:"openNotional",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],internalType:"struct ClearingHouse.Position",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"getPositionMargin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getPositionNotional",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"}],name:"getSpotPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getStake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_trader",type:"address"}],name:"getStakeInterest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"getTotalMargin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_marketIdx",type:"uint256"},{internalType:"address",name:"_trader",type:"address"}],name:"getUnrealizedPnl",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"markets",outputs:[{internalType:"uint256",name:"maintenanceMarginRatio",type:"uint256"},{internalType:"uint256",name:"positionFeeRatio",type:"uint256"},{internalType:"uint256",name:"marketBalance",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],u=[{inputs:[{internalType:"address",name:"_factory",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"balance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"enum IDerifyExchangeActions.AccountType",name:"from",type:"uint8"},{internalType:"enum IDerifyExchangeActions.AccountType",name:"to",type:"uint8"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"address",name:"trader",type:"address"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"enum IDerifyExchangeActions.OpenType",name:"openType",type:"uint8"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],name:"openPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"enum IDerifyDerivativeActions.StopType",name:"stopType",type:"uint8"},{internalType:"uint256",name:"stopPrice",type:"uint256"}],name:"orderStopPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"uint256",name:"size",type:"uint256"}],name:"closePosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"closeAllPositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.OrderType",name:"orderType",type:"uint8"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"uint256",name:"timestamp",type:"uint256"}],name:"cancleOrderedPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"cancleAllOrderedPositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"}],name:"getTraderAccount",outputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"int256",name:"marginBalance",type:"int256"},{internalType:"uint256",name:"totalMargin",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"enum IDerifyExchangeActions.OpenType",name:"openType",type:"uint8"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"}],name:"getTraderOpenUpperBound",outputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"}],name:"getSysOpenUpperBound",outputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"}],name:"getCloseUpperBound",outputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],name:"setSpotPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getSpotPrice",outputs:[{internalType:"uint256",name:"spotPrice",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getPositionChangeFeeRatio",outputs:[{internalType:"int256",name:"ratio",type:"int256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"getTradingFee",outputs:[{internalType:"uint256",name:"tradingFee",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"enum IDerifyDerivativeActions.ActionType",name:"actionType",type:"uint8"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"getPositionChangeFee",outputs:[{internalType:"int256",name:"positionChangeFee",type:"int256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"}],name:"getTraderPosition",outputs:[{components:[{internalType:"bool",name:"isUsed",type:"bool"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct IDerifyDerivativeActions.Position",name:"position",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"enum IDerifyDerivativeActions.StopType",name:"stopType",type:"uint8"}],name:"getTraderOrderStopPosition",outputs:[{components:[{internalType:"bool",name:"isUsed",type:"bool"},{internalType:"uint256",name:"stopPrice",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct IDerifyDerivativeActions.StopPosition",name:"sp",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"}],name:"getTraderOrderLimitPositions",outputs:[{components:[{internalType:"bool",name:"isUsed",type:"bool"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct IDerifyDerivativeActions.Position[]",name:"positions",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"trader",type:"address"}],name:"getTraderVariables",outputs:[{internalType:"int256",name:"marginBalance",type:"int256"},{internalType:"uint256",name:"totalPositionAmount",type:"uint256"},{internalType:"int256",name:"marginRate",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"trader",type:"address"},{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"leverage",type:"uint256"},{internalType:"uint256",name:"averagePrice",type:"uint256"}],name:"getTraderPositionVariables",outputs:[{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"int256",name:"unrealizedPnl",type:"int256"},{internalType:"int256",name:"returnRate",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IDerifyDerivativeActions.Side",name:"side",type:"uint8"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"marginMaintenanceRatio",type:"uint256"},{internalType:"uint256",name:"marginBalance",type:"uint256"},{internalType:"uint256",name:"totalPositionAmount",type:"uint256"}],name:"getTraderPositionLiquidatePrice",outputs:[{internalType:"uint256",name:"liquidatePrice",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkOrderedPositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkLiquidatePositions",outputs:[],stateMutability:"nonpayable",type:"function"}],o=n("f810"),s="https://kovan.infura.io/v3/4790cd7bb24349738a3b05ee0c20746e",p="0xFb7297591A440b29CAc98DAe6bBcBD73B353b27c";function c(e){return new o["a"](u,p,{from:e})}function d(){if(window.ethereum)window.web3=new i.a(window.ethereum);else if(window.web3)window.web3=new i.a(window.web3.currentProvider);else{var e=new i.a(new i.a.providers.HttpProvider(s));window.web3=e}var t=new window.web3.eth.Contract(r,p);return t}function l(e){var t=d().methods.getAccount(e).call();return t}function y(e,t){var n=d().methods.getMarketAccount(t,e).call();return n}function m(){return window.ethereum?new Promise((function(e,t){window.ethereum.request({method:"eth_requestAccounts"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))})):new Promise((function(e,t){t(new Error("please install Metamask"))}))}},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var a=n("2b0e"),i=n("8c4f"),r=n("4360"),u=n("0f9a");a["a"].use(i["a"]);var o=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-827585d6")]).then(n.bind(null,"b3d7"))}},{path:"/exchange",name:"exchange",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-827585d6")]).then(n.bind(null,"b3d7"))}},{path:"/broker",name:"broker",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-11c60ab6")]).then(n.bind(null,"60fd"))}},{path:"/data",name:"data",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-243128de")]).then(n.bind(null,"c725"))}},{path:"/earnings",name:"earnings",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-741d7b32")]).then(n.bind(null,"7255"))}},{path:"/detail",name:"detail",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-32b545b2")]).then(n.bind(null,"d558"))}},{path:"/transfer",name:"transfer",component:function(){return n.e("chunk-113dd4df").then(n.bind(null,"ac0d"))}},{path:"/account",name:"account",component:function(){return Promise.all([n.e("chunk-2c692ccb"),n.e("chunk-65bda615")]).then(n.bind(null,"e38c"))}},{path:"/financialDetails",name:"financialDetails",component:function(){return n.e("chunk-d651afa0").then(n.bind(null,"ad2a"))}}],s=new i["a"]({mode:"history",base:"/",routes:o});t["a"]=s,s.beforeEach((function(e,t,n){window.ethereum&&window.ethereum.isConnected()&&window.ethereum.selectedAddress?(console.log("netmask connected",window.ethereum.selectedAddress),r["a"].commit("user/setShowWallet",!1)):r["a"].commit("user/setShowWallet",!0),n()})),window.onload=function(){if(window.ethereum){window.ethereum.on("accountsChanged",(function(){location.reload()})),window.ethereum.on("chainChanged",(function(){location.reload()}));var e=Object(u["getWallet"])();r["a"].commit("user/updateState",e)}}},a4b1:function(e,t,n){},b775:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("d3b7"),n("ac1f"),n("5319");var a=n("bc3a"),i=n.n(a),r=(n("4328"),n("d399")),u=n("a18c"),o=n("4360");function s(e,t){return new Promise((function(n,a){i.a.get(e,{params:t}).then((function(e){n(e.data)})).catch((function(e){a(e.data)}))}))}i.a.defaults.baseURL="http://api.123dailu.com/",i.a.defaults.timeout=1e4,i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",i.a.interceptors.request.use((function(e){var t=o["a"].state.token;return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.error(e)})),i.a.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e):Promise.reject(e)}),(function(e){if(e.response.status){switch(e.response.status){case 401:u["a"].replace({path:"/login",query:{redirect:u["a"].currentRoute.fullPath}});break;case 403:Object(r["a"])({message:"登录过期，请重新登录",duration:1e3,forbidClick:!0}),localStorage.removeItem("token"),o["a"].commit("loginSuccess",null),setTimeout((function(){u["a"].replace({path:"/login",query:{redirect:u["a"].currentRoute.fullPath}})}),1e3);break;case 404:Object(r["a"])({message:"网络请求不存在",duration:1500,forbidClick:!0});break;default:Object(r["a"])({message:e.response.data.message,duration:1500,forbidClick:!0})}return Promise.reject(e.response)}}))},c653:function(e,t,n){var a={"./contract.js":"6189","./user.js":"0f9a"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="c653"},d1cb:function(e){e.exports=JSON.parse('{"lng":"zh","navbar":{"Home":"首页","Trade":"交易","Rewards":"收益","Partners":"经纪商","Data":"数据","Connect Wallet":"连接钱包"},"Brokers":{"Brokers":"经济商","AccBalance":"账户余额","Withdraw":"提现","DailyEarning":"今日收入","AccumulatedEarning":"累计收入","PrivilegeValiduntil":"经纪商权益有效期","MyReferralPage":"我的推广页面","Days":"天","Until":"至","Burn":"充值","Note":"说明","NoteDerify1":"平台采取经纪商制度。所有的交易者只能通过访问经纪商的交易页面进行交易，Derify protocol并不直接面向交易者提供服务","NoteDerify2":"经纪商可以持续获得手续费奖励（未来还将获得额外的DRF奖励）。","NoteDerify3":"经纪商需要燃烧eDRF才能保持享有该权益（当前，每600个eDRF可以维持一天的经纪商收益）。","NoteDerify4":" 权益有效期到期后将无法获得经纪商奖励，但仍会保持经纪商身份，您可以随时燃烧eDRF恢复经纪商奖励权益。","AccountHistory":"账户流水","Type":"类型","Amount":"金额","Balance":"余额","Time":"时间","Earnings":"收入","TraderInfo":"交易者信息","TraderAddress":"交易者地址","RegistrationDate":"注册时间","YouPartner":"您尚未开通经纪商","ApplyPartner":"申请成为经纪商","BurnEDRF":"您需要燃烧60000个eDRF成为经纪商","AccountBalance":"可用余额","YouPrivilege":"您已成功开通经纪商身份","Close":"关闭","Burns":"燃烧","Balances":"当前余额","UnitPrice":"单价","BurnAmount":"燃烧数量","ValidDays":"有效期","NoMoreData":"没有更多了","cancel":"取消","affirm":"确认"},"data":{"Data":"数据","TradingVolume":"交易量","All":"全部","TradFeeEarning":"手续费收入","PositionVolume":"持仓量","TotalLong":"多头总仓位","TotalShort":"空头总仓位","InsurancePool":"保险金池","InsurancePoolBalance":"保险金池余额","Info":"指标","Price":"指数","TotalDestroyedVolume":"已销毁量","BuyBackFundBalance":"DRF回购基金余额","BondPoolBalance":"债券池余额","NoMoreData":"没有更多了","dealingSlip":"交易记录","contract":"合约","type":"类型","freightSpace":"仓位","Time":"时间","open":"开","more":"多"},"Rewards":{"PositionMiningReward":"持仓挖矿收益","PositionHeld":"持仓额","AccumulatedReward":"历史累计收益","TransactionHistory":"流水明细","Withdraw":"提现","PositionMining":"持仓挖矿","Type":"类型","Amount":"金额","Balance":"余额","Time":"时间","Earning":"收入","StakEquity":"质押权益","StakAmount":"质押量","DailyYield":"每日产量","Redeem":"赎回","Staking":"质押","Bond":"债券","Redeemable":"可兑换债券","DepoAmoun":"收益计划存入","Deposit":"存入","Max":"可提现/可赎回/可质押/可存入/可兑换","Amounts":"提现/赎回/质押/存入/兑换数量","All":"全部提现/赎回/质押/存入/兑换"}}')},e02a:function(e,t,n){e.exports=n.p+"img/eth-logo.9e7c6b68.png"},f810:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("ade3"),i=n("b85c"),r=n("1da1"),u=n("d4ec"),o=n("bee2"),s=(n("159b"),n("96cf"),n("99e5")),p=n.n(s),c={},d=function(){function e(t,n,a){Object(u["a"])(this,e);var i=new p.a,r=window.ethereum;i.setProvider(r),this.web3=i,this.contract=new i.eth.Contract(t,n,Object.assign({gasPrice:"20000000000"},a))}return Object(o["a"])(e,[{key:"deposit",value:function(e){return this.contract.methods.deposit(e).send()}},{key:"withdraw",value:function(e){return this.contract.methods.withdraw(e).send()}},{key:"openPosition",value:function(e,t,n,a,i,r){return this.contract.methods.openPosition(e,t,n,a,i,r).send()}},{key:"orderStopPosition",value:function(e,t,n,a){return this.contract.methods.orderStopPosition(e,t,n,a).send()}},{key:"closePosition",value:function(e,t,n){return this.contract.methods.closePosition(e,t,n).send()}},{key:"closeAllPositions",value:function(){return this.contract.methods.closeAllPositions().send()}},{key:"getTraderAccount",value:function(e){return this.contract.methods.getTraderAccount(e).call()}},{key:"setSpotPrice",value:function(e,t){return this.contract.methods.setSpotPrice(e,t).send()}},{key:"getSpotPrice",value:function(e){return this.contract.methods.getSpotPrice(e).call()}},{key:"cancleOrderedPosition",value:function(e,t,n,a){return this.contract.methods.cancleOrderedPosition(e,t,n,a).send()}},{key:"cancleAllOrderedPositions",value:function(e){return this.contract.methods.cancleAllOrderedPositions(e).send()}},{key:"getTraderOpenUpperBound",value:function(e,t,n,a,i){return this.contract.methods.getTraderOpenUpperBound(e,t,n,a,i).call()}},{key:"getTraderPosition",value:function(e,t,n){return this.contract.methods.getTraderPosition(e,t,n).call()}},{key:"getTraderOrderStopPosition",value:function(e,t,n,a){return this.contract.methods.getTraderOrderStopPosition(e,t,n,a).call()}},{key:"getTraderOrderLimitPositions",value:function(e,t,n){return this.contract.methods.getTraderOrderLimitPositions(e,t,n).call()}},{key:"getPositionChangeFeeRatio",value:function(e){return this.contract.methods.getPositionChangeFeeRatio(e).call()}},{key:"getSysOpenUpperBound",value:function(e,t){return this.contract.methods.getSysOpenUpperBound(e,t).call()}},{key:"getTraderPositionVariables",value:function(e,t,n,a,i,r,u){return this.contract.methods.getTraderPositionVariables(e,t,n,a,i,r,u).call()}},{key:"getTraderVariables",value:function(e){return this.contract.methods.getTraderVariables(e).call()}},{key:"getTraderPositionLiquidatePrice",value:function(e,t,n,a,i,r){return this.contract.methods.getTraderPositionLiquidatePrice(e,t,n,a,i,r).call()}},{key:"getTraderAllPosition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.t0=a,e.next=4,this.getTraderViewPosition(t,n,0);case 4:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=a,e.next=9,this.getTraderViewPosition(t,n,1);case 9:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTraderViewPosition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,r,u,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new l,i.side=a,i.coinAddress=n,e.t0=Object,e.t1=i,e.next=7,this.getTraderPosition(t,n,a);case 7:return e.t2=e.sent,i=e.t0.assign.call(e.t0,e.t1,e.t2),i.averagePrice=i.price,e.next=12,this.getSpotPrice(n);case 12:return i.spotPrice=e.sent,e.next=15,this.getTraderOrderStopPosition(t,n,a,0);case 15:return r=e.sent,e.next=18,this.getTraderOrderStopPosition(t,n,a,1);case 18:return u=e.sent,i.stopProfitPrice=r.stopPrice,i.stopLossPrice=u.stopPrice,e.next=23,this.getTraderPositionVariables(t,n,a,i.spotPrice,i.size,i.leverage,i.averagePrice);case 23:return o=e.sent,i.margin=o.margin,i.unrealizedPnl=o.unrealizedPnl,i.margin=o.margin,e.next=29,this.getTraderVariablesWithCache(t);case 29:return s=e.sent,i.marginBalance=s.marginBalance,i.totalPositionAmount=s.totalPositionAmount,i.marginRate=s.marginRate,e.next=35,this.getTraderPositionLiquidatePrice(i.side,i.spotPrice,i.size,i.marginRate,i.marginBalance,i.totalPositionAmount);case 35:return i.liquidatePrice=e.sent,e.abrupt("return",i);case 37:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"getTraderVariablesWithCache",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===c[t]){e.next=2;break}return e.abrupt("return",c[t]);case 2:return e.abrupt("return",this.getTraderVariables(t));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTraderAllLimitPosition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],e.next=3,this.getTraderOrderLimitPosition(t,n,0);case 3:return i=e.sent,i.forEach((function(e){a.push(e)})),e.next=7,this.getTraderOrderLimitPosition(t,n,1);case 7:return r=e.sent,r.forEach((function(e){a.push(e)})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getTraderOrderLimitPosition",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,u,o,s,p,c,d,l,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.next=3,this.getTraderOrderLimitPositions(t,n,a);case 3:return u=e.sent,e.next=6,this.getTraderOrderStopPosition(t,n,a,0);case 6:return o=e.sent,e.next=9,this.getTraderOrderStopPosition(t,n,a,1);case 9:return s=e.sent,e.next=12,this.getSpotPrice(n);case 12:p=e.sent,c=Object(i["a"])(u);try{for(c.s();!(d=c.n()).done;)l=d.value,m=new y,m.side=a,m.coinAddress=n,m.spotPrice=p,m.stopLossPrice=s.stopPrice,m.stopProfitPrice=o.stopPrice,m=Object.assign({},m,l),r.push(m)}catch(f){c.e(f)}finally{c.f()}return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"onDeposit",value:function(e,t){this.contract.events.Deposit({user:e},t)}},{key:"onWithdraw",value:function(e,t){this.contract.events.Withdraw({user:e},t)}}]),e}(),l=function e(){Object(u["a"])(this,e),Object(a["a"])(this,"coinAddress",void 0),Object(a["a"])(this,"side",void 0),Object(a["a"])(this,"size",void 0),Object(a["a"])(this,"leverage",void 0),Object(a["a"])(this,"averagePrice",void 0),Object(a["a"])(this,"timestamp",void 0),Object(a["a"])(this,"unrealizedPnl",void 0),Object(a["a"])(this,"returnRate",void 0),Object(a["a"])(this,"spotPrice",void 0),Object(a["a"])(this,"margin",void 0),Object(a["a"])(this,"marginRate",void 0),Object(a["a"])(this,"marginBalance",void 0),Object(a["a"])(this,"totalPositionAmount",void 0),Object(a["a"])(this,"stopProfitPrice",void 0),Object(a["a"])(this,"stopLossPrice",void 0),Object(a["a"])(this,"liquidatePrice",void 0)},y=function e(){Object(u["a"])(this,e),Object(a["a"])(this,"coinAddress",void 0),Object(a["a"])(this,"side",void 0),Object(a["a"])(this,"stopProfitPrice",void 0),Object(a["a"])(this,"stopLossPrice",void 0),Object(a["a"])(this,"stopTimestamp",void 0),Object(a["a"])(this,"limitOrders",void 0)}},fa7d:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));n("b680"),n("a9e3");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(/^-?\d+\.?\d*$/.test("".concat(e))){var a=parseFloat(e);return a*=Math.pow(10,t),Number(a).toFixed(n)}return e}function i(e,t){return e||t}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e&&null!==a)return a;if(/^-?\d+\.?\d*$/.test("".concat(e))){var i=parseFloat(e);return 0===i&&null!==a?a:n&&i>0?"+"+Number(i).toFixed(t):Number(i).toFixed(t)}return e}}});
//# sourceMappingURL=app.346a72c8.js.map