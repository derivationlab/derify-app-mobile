(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82ea3014"],{"0263":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACUUlEQVRYR+2XTWgTURDH/7NJk1TbxmpakYJ404Og1OKhBz8gpFIttSKIl4IHpWAPSjyoiKKCFSV4UawoFCNYiikVUrBCQPQgiB48FDUgqIFSejDQZDe7m3QzspFcJMl+mE0R3ON78+b/m3nz3r4hAFC/hbYJbtxmRhAgnz7m3MciAwmPSzhPXXNJ0sXJhfcAtTgnWskzi00uoYfUVGiGQIcbK/5bjZlnKZ8KZRsffTlcViif6uPViL6s+e8CzH8u4MqYBCnHmIu1206i7QysrDC29/5EJsuIPfajd7fHFoRtAF3t2i0R4xMyjh/1IXK91RmAyF0JkXs5W871ReHTaxAeXVt1vWEGygBbNgvYtNFlGmRxScP3VLF+AFcvtODkcLNpgIfRXKlI65aB/wCrnoGRE804MuA1XQPTcRUPJuT61YBp5T8M/7oIL4+JeBSV0b3Djc6AYJljsN+Lwf7qbxzDeyB8KYvJaQXR+20I7jO/BWZJDQGGR5aReJ1HfHIddu1sMuvXtJ0hwP6BNJJfNXx8swGdHda3wIikJsByplj64/nbCPNvA0a+bM3XBJiakXH2oojgXg+i435bAkaLagIEh9L49EXDnRutODbkzGu9KsDsSxWnzmTQERDwLrEePi8ZBWNrviKAJDH2HExjcakIq1ewVYqKAIrKeDKl4GlMxotn7Y5Fr8MaHkOrEVm11xsT2fl+sBoWi6T+6IsT4ZBV8nrYM/g58cKBrQWt+KHx7ZnenBZ6SmdLh8hrxZuEUnvucJfMCjMSHnfhHHW9Sv4Csjk30FADajMAAAAASUVORK5CYII="},"1a57":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADnklEQVRYR8WX26tWVRTFfyMziLDE7CJWJEIUFUGkRBBiRESWQVp0oYceCgkUor9D9EFEQ/ChUjEVTLxgEEUQEflgofYgWamZJWFZiJXOGDL3YbvPWt/ep5eznj6+teacY97HFpN8NMn2GQwgIq4CbgPmArcAM4Br04G/gD+Ak8AxST8OdawXQBq+B3gYmD5QscF8CRyS9O8omZEAIsJePpUeN3rs7XHgV+A8cAm4DpgJ3JG/m7e/ALsl/VYDUQUQEXOAp4FrUthGvwBOSLLR4omIO4FHgFn5wBH4UNKxkkARQBpfDFwN/A18LOnQwPBffhYRTtsTqaMKYhyADPurKXgO2CHpzESMN29T11JgWjryfjcdVwCICHv8EnAzYNTv1vIXEc75jYC743TPO+t0Kk8Dm9op7AJ4AHg8Pdgj6UjX84hwJzi0t3fuTgGWOVuQuRd4Mv/f105nF8DrwPXAT5I2FxT57uWs9AvAD/nGYDwT3CHvSfqzIPtCgjbAjU0UxgBEhFvo+RTcLun7gpJngLs8bLK9DMIFNwV4FnDnuPf3FWTb+j9ohlUbwALgIXshaV2p6CJieeZyfdfLiHB0HMELktYUALhW3sjoHZD0id+0ATi07t3DkvZWADiPlyTtLxiYCqzI+1UV+UXA3R7ZkrZ0ASxLdJ9J8hid0ImIR4H5beUFkL73u/OS1nYBvF2q0j4UEeGoWakL0RPS+T1RicD92UFIWlkDsF/SN32Gs/hs9LkcWi5It9jRmmxEjLVjCcCb2UqDUxARTd0cBCx3uStGAGhSMFbo7SJ8EZgNfCtp98AIvJWTcLWki30yEeHN6h1xStKmbgoWAg/mMHln1MZrDEVEtSsqNdAU+leSPu0CKA6KPq+G3ueaXpLvi4PIg+K1ZD3HJW3tUx4RTpkr2lRs5GnVy++SNjSPu7ugujQKPW22ZMA+nu1V1pPcwPn3+UjS1zUAjoJX5625vzfXuEBEmIa1AXgRjTsdfmGK5nU8VrA1QvJKznwTkm0jdr3Hr1PwT8W4OYPnhAlJkV/UKJl5nbebCYoFPZzGcYNRSc+h81g6Yh07Sxt2FCltg7AtE47PS0pabdl8O5jCN4TFnHJXTW4ILfcGM0VrjnPtDw/zRP+2UZORm9Koa6M5PwN7/xctb3llsnEfMA+4oafbmmuzHlP4I30DrffLqG0wWZNZj/vfBKTx1h8obkN7/F3ft0Nb54QADPR+Qs8mHcB/yeSGMMCKZY4AAAAASUVORK5CYII="},"3e13":function(t,s,i){"use strict";i("9bfa")},"5a0a":function(t,s,i){"use strict";i.d(s,"a",(function(){return a}));i("a434"),i("d3b7"),i("ddb0"),i("b0c0");function e(t){for(var s=[],i=[],e=0;e<t.length;e++){var a=new Date(parseInt(t[e].splice(0,1)[0]));s.push(a.Format("yyyy/MM/dd")),i.push(t[e])}return{categoryData:s,values:i}}var a=e([["1626367860000","31559.72","31570.69","31559.72","31570.69"],["1626367800000","31567.48","31567.52","31553.33","31559.94"],["1626367740000","31588.93","31591.45","31567.25","31567.48"],["1626367680000","31624.66","31630.61","31588.88","31588.93"],["1626367620000","31666.23","31668.87","31624.66","31624.66"],["1626367560000","31697.51","31697.85","31655.95","31666.23"],["1626367500000","31654.47","31698.3","31654.47","31698.3"],["1626367440000","31624.36","31654.43","31624.36","31654.43"],["1626367380000","31590.1","31629.05","31590.1","31621.84"],["1626367320000","31590.78","31599.15","31584.59","31590.47"],["1626367260000","31577.05","31592.4","31575.22","31591.37"],["1626367200000","31559.68","31581.01","31553.18","31577.05"],["1626367140000","31569.04","31571.27","31555.17","31559.68"],["1626367080000","31579.43","31580.63","31551.23","31569"],["1626367020000","31578.55","31581.5","31570.38","31579.63"],["1626366960000","31560.95","31581.08","31559.19","31578.54"],["1626366900000","31516.67","31561.97","31516.67","31561.94"],["1626366840000","31562.21","31562.21","31511.62","31516.67"],["1626366780000","31508.88","31575.98","31480.95","31563.16"],["1626366720000","31510.84","31529.46","31506.88","31506.88"],["1626366660000","31571.59","31571.59","31501.47","31510.8"],["1626366600000","31556.52","31572.23","31556.52","31571.59"],["1626366540000","31570.86","31571.86","31551.52","31556.47"],["1626366480000","31579.53","31580.89","31562.19","31570.81"],["1626366420000","31577.91","31583.75","31577.91","31579.53"],["1626366360000","31570.56","31577.91","31564.48","31577.91"],["1626366300000","31574.57","31584.86","31564.71","31568.99"],["1626366240000","31586.44","31600.82","31574.57","31574.58"],["1626366180000","31565.91","31590.59","31565.91","31586.39"],["1626366120000","31590.33","31608.47","31564.86","31565.37"],["1626366060000","31537.8","31590.33","31526.03","31590.33"],["1626366000000","31565.54","31569.11","31535.38","31537.8"],["1626365940000","31556.64","31575.53","31554.13","31565.54"],["1626365880000","31554.2","31561.47","31551.62","31556.44"],["1626365820000","31567.99","31572.03","31551.31","31554.2"],["1626365760000","31575.08","31591.21","31566.46","31567.99"],["1626365700000","31608.38","31608.61","31575.18","31575.64"],["1626365640000","31648.2","31648.2","31606.34","31607.96"],["1626365580000","31635.34","31650.46","31628.97","31648.2"],["1626365520000","31646.06","31648.52","31632.88","31635.34"],["1626365460000","31674.27","31678.65","31645.28","31645.28"],["1626365400000","31653.66","31681.59","31653.66","31673.25"],["1626365340000","31647.86","31661.18","31625.82","31653.65"],["1626365280000","31620.73","31683.85","31591.98","31649.54"],["1626365220000","31655.58","31660.64","31620.73","31620.74"],["1626365160000","31706.73","31707.24","31655.55","31655.56"],["1626365100000","31712.58","31722.58","31703.88","31706.73"],["1626365040000","31706.45","31721","31706.45","31712.58"],["1626364980000","31710.23","31710.23","31699.99","31706.45"],["1626364920000","31692.22","31732.69","31690.63","31710.22"],["1626364860000","31727.83","31727.83","31644.56","31692.21"],["1626364800000","31684.64","31724.41","31660.49","31724.41"],["1626364740000","31705.87","31706.66","31684.64","31684.64"],["1626364680000","31702.7","31705.87","31699.07","31705.87"],["1626364620000","31684.77","31702.74","31682.04","31702.71"],["1626364560000","31695.94","31695.94","31675.49","31684.16"],["1626364500000","31711.49","31712.3","31693.88","31695.94"],["1626364440000","31710.4","31715.59","31696.23","31711.1"],["1626364380000","31752.28","31756.26","31709.68","31710.4"],["1626364320000","31751.26","31751.26","31746.6","31750.56"],["1626364260000","31746.68","31751.95","31746.3","31751.26"],["1626364200000","31737.53","31751.87","31737.53","31746.68"],["1626364140000","31742.88","31743.12","31735.92","31737.53"],["1626364080000","31707.26","31741.43","31707.26","31741.34"],["1626364020000","31750.39","31750.39","31704.82","31704.82"],["1626363960000","31743.18","31757.33","31743.18","31751.17"],["1626363900000","31697.14","31754.22","31695.05","31743.19"],["1626363840000","31698.85","31724.9","31697.14","31697.14"],["1626363780000","31730.64","31731.45","31691.74","31698.54"],["1626363720000","31745.61","31746.5","31728.76","31730.26"],["1626363660000","31752.36","31752.36","31742.31","31745.61"],["1626363600000","31740.29","31753.67","31738.8","31752.36"],["1626363540000","31730.32","31749.95","31730.31","31739.41"],["1626363480000","31720.88","31731.41","31719.69","31726.23"],["1626363420000","31723.06","31723.3","31712.56","31720.99"],["1626363360000","31749.04","31749.04","31718.19","31723.78"],["1626363300000","31755.79","31755.79","31749.04","31749.04"],["1626363240000","31762.19","31764.28","31756.69","31756.69"],["1626363180000","31766.66","31774.78","31755.25","31762.2"],["1626363120000","31763.08","31771.53","31754.98","31766.66"],["1626363060000","31794.38","31795.77","31763.07","31763.07"],["1626363000000","31810.14","31812.68","31793.94","31793.94"],["1626362940000","31800.18","31809.97","31799.68","31809.97"],["1626362880000","31803.41","31806.17","31793.91","31798.76"],["1626362820000","31798.28","31804.39","31798.28","31804.39"],["1626362760000","31835.86","31835.86","31797.59","31798.4"],["1626362700000","31832.46","31844.89","31832.46","31835.86"],["1626362640000","31828.06","31832.46","31818.07","31832.46"],["1626362580000","31826.25","31830.2","31824.76","31828.07"],["1626362520000","31824.39","31829.28","31820.24","31826.24"],["1626362460000","31826.92","31832.08","31824.39","31824.47"],["1626362400000","31826.72","31826.92","31815.65","31826.91"],["1626362340000","31805.74","31827.17","31805.45","31827.16"],["1626362280000","31808.66","31810.48","31800.79","31805.61"],["1626362220000","31794.38","31808.81","31794.38","31808.66"],["1626362160000","31783.02","31794.06","31779.56","31794.06"],["1626362100000","31799.54","31799.84","31779.35","31783.01"],["1626362040000","31803.56","31809.16","31799.48","31799.54"],["1626361980000","31802.05","31804.29","31800","31803.57"],["1626361920000","31799.77","31801.64","31792.06","31801.64"]]);s["b"]={darkMode:!0,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:[]},grid:{left:"10%",right:"10%",bottom:"15%"},xAxis:{type:"category",data:a.categoryData,scale:!0,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20},yAxis:{scale:!0,splitArea:{show:!0}},dataZoom:[],series:[{name:"日K",type:"candlestick",data:a.values,markPoint:{label:{normal:{formatter:function(t){return null!=t?Math.round(t.value):""}}},tooltip:{formatter:function(t){return t.name+"<br>"+(t.data.coord||"")}}}}]}},"778b":function(t,s,i){"use strict";i("91fb")},"7db09":function(t,s,i){"use strict";var e=i("23e7"),a=i("b727").find,n=i("44d2"),o="find",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),e({target:"Array",proto:!0,forced:c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)},"91fb":function(t,s,i){},"9bfa":function(t,s,i){},a0ef:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACuUlEQVRYR+1XTWgTURD+3iabtImkiSi2TT2W5lbQWgi0UDCmUQqKIvQUMNSDNCfrQetNQQR/QAykIARbUHMwKG0QxUgVhaK1Bw+CRdGaWg8aJGl+mt1k82RXgsWmSXY3iR58t919O/PNN/O+eUMAgPvktDFaXKIUDoA0ie/qt2iKAhGdhjlNrA8XieicaDAPkC31c1rKMk2xGqaHcFHnPQJyqLHOf3mjlIYJH3UmGx99MVyaJXx0kP6N6Is+/wOQxcCrBR55AbB1arHVwpTM3IePeXyLFaRvu7pZNOlJ2QzLAmDrjWE1SRG4boLLod9gePY5B493FRwPjI0aMOY1ViyvmgF49z6PoeE4MhmKEXczzp2pTlZqAmB5RcARdxxfvhbgGNBJDGm15alXdApKpSCdpth3+AeWogX021lM+lsq5n19XlQxkOUo3CcSeDGXQ1enBuE7FhiN1UVeEwaOeRN49IRHh5VBaNKMnVZNxaL7c4NiBt68zePaRAbbtzEIB5U5F8EoAmDfw2JuPge9Drg7ZcbublZ25KpS0NHOSBXftoPBTNCM9lb51KsC4L9swq3Q2u/iC1pgNMgrPlUAxHNu72Wx/2gcS1EBA30sAj55x081AFGKRQES1e97rICDB/TwXzHJrgVFRbi+F7xcyGHYE5f0f3SkGWfHqpPgmjBQNPL4KQ+PNwFBAMZPGuE9bqiaCdUMFD35bmRw4Wpaegz4THDt3dgtS6GqGQDR+Pj5JG7ezkr6MDXRgn67riITNQWQz1PpPhB5xsNgIJJCipeXcksWgNB0Vspzn53dVHzEBjX9gJN8trUyFVmQBaAinwo2/AsAnGv1nwc3o4amCPd5cIYQDClgT/UvFPQ+oSuurpxQeN348UwcTnM9UgsTQfBC4SKBNJ7L01LZPNAspYjotLlTxDq7+BPP9n3QTi1maAAAAABJRU5ErkJggg=="},a434:function(t,s,i){"use strict";var e=i("23e7"),a=i("23cb"),n=i("a691"),o=i("50c4"),c=i("7b0b"),r=i("65f0"),l=i("8418"),p=i("1dde"),d=p("splice"),u=Math.max,v=Math.min,h=9007199254740991,f="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!d},{splice:function(t,s){var i,e,p,d,m,C,g=c(this),_=o(g.length),y=a(t,_),w=arguments.length;if(0===w?i=e=0:1===w?(i=0,e=_-y):(i=w-2,e=v(u(n(s),0),_-y)),_+i-e>h)throw TypeError(f);for(p=r(g,e),d=0;d<e;d++)m=y+d,m in g&&l(p,d,g[m]);if(p.length=e,i<e){for(d=y;d<_-e;d++)m=d+e,C=d+i,m in g?g[C]=g[m]:delete g[C];for(d=_;d>_-e+i;d--)delete g[d-1]}else if(i>e)for(d=_-e;d>y;d--)m=d+e-1,C=d+i-1,m in g?g[C]=g[m]:delete g[C];for(d=0;d<i;d++)g[d+y]=arguments[d+2];return g.length=_-e+i,p}})},ab3d:function(t,s,i){},b3d7:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home-container page-container"},[e("navbar",{attrs:{logo:!0,title:"首页"}}),e("div",{staticClass:"home-top"},[e("div",{staticClass:"home-top-left"},[e("div",{staticClass:"home-top-coin",on:{click:function(s){return t.changeShowMarket(!0)}}},[e("span",{staticClass:"home-top-coin-name"},[t._v(t._s(t.curPair.name))]),e("van-icon",{attrs:{color:"rgba(255, 255, 255, .85)",name:"arrow",size:"1.6rem"}})],1),e("div",{staticClass:"home-top-num"},[t._v(" "+t._s(t._f("fck")(t.curSpotPrice,-8))+" ")]),e("div",{class:t.curContractData.tokenPriceRate>0?"home-top-percent up":"home-top-percent down"},[e("span",[t._v(" "+t._s(t.curContractData.tokenPriceRate>0?"+":"")+t._s(t._f("fck")(t.curContractData.tokenPriceRate,2,2))+"%")])])]),e("div",{staticClass:"home-top-right"},[e("div",{staticClass:"home-top-icons"},[e("img",{staticClass:"home-top-icon",attrs:{src:i("a0ef"),alt:""},on:{click:function(s){return t.changeRouter("exchange")}}}),e("img",{staticClass:"home-top-icon",attrs:{src:i("0263"),alt:""},on:{click:function(s){return t.changeRouter("account")}}})]),e("div",{staticClass:"home-top-items"},[e("span",{staticClass:"fc-65"},[t._v("动仓费率：")]),e("span",{staticClass:"fc-red"},[t._v(t._s(t._f("fck")(t.curPositionChangeFeeRatio,-8))+"%")])]),e("div",{staticClass:"home-top-items"},[e("span",{staticClass:"fc-65"},[t._v("持仓挖矿奖励：")]),e("span",{staticClass:"fc-green"},[t._v("多")]),e("span",[t._v(t._s(t._f("fck")(t.curContractData.longPmrRate,2,2))+"%")]),e("span",{staticClass:"fc-65 margin"},[t._v("/")]),e("span",{staticClass:"fc-red"},[t._v("空")]),e("span",[t._v(t._s(t._f("fck")(t.curContractData.shortPmrRate,2,2))+"%")])])])]),"home"===t.$route.name?[e("div",{staticClass:"home-mid"},[e("div",{staticClass:"home-mid-one"},[e("van-dropdown-menu",{staticClass:"derify-dropmenu",attrs:{overlay:!1}},[e("van-dropdown-item",{attrs:{options:t.entrustTypeConfig},on:{input:t.updateTraderOpenUpperBound},model:{value:t.entrustType,callback:function(s){t.entrustType=s},expression:"entrustType"}},[e("div",{staticClass:"derify-dropmenu-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v(t._s(t.entrustTypeConfig[t.entrustType].text))]),e("van-icon",{attrs:{name:"arrow-down",size:"1.8rem",color:"rgba(255, 255, 255, .85)"}})],1)])],1),e("van-dropdown-menu",{staticClass:"derify-dropmenu",attrs:{overlay:!1}},[e("van-dropdown-item",{attrs:{options:t.leverageConfig},on:{input:t.updateTraderOpenUpperBound},model:{value:t.leverageUnit,callback:function(s){t.leverageUnit=s},expression:"leverageUnit"}},[e("div",{staticClass:"derify-dropmenu-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v(t._s(t.leverageConfig[t.leverageUnit].text))]),e("van-icon",{attrs:{name:"arrow-down",size:"1.8rem",color:"rgba(255, 255, 255, .85)"}})],1)])],1)],1),e("div",{staticClass:"home-mid-two"},[e("div",{staticClass:"fc-65 fz-12"},[t._v("开仓价")]),0===t.entrustType?e("div",{staticClass:"home-mid-input"},[e("van-field",{staticClass:"derify-input",attrs:{type:"text","input-align":"center",disabled:"",value:"以市价成交"}})],1):e("div",{staticClass:"home-mid-input"},[e("van-field",{staticClass:"derify-input",attrs:{type:"text"},on:{input:t.updateTraderOpenUpperBound},model:{value:t.amount,callback:function(s){t.amount=t._n(s)},expression:"amount"}}),e("div",{staticClass:"fc-30"},[t._v("USDT")])],1)]),e("div",{staticClass:"home-mid-two"},[e("div",{staticClass:"home-mid-two-title"},[e("div",{staticClass:"fc-65 fz-12"},[t._v("开仓量")]),e("div",{staticClass:"fz-12"},[e("span",{staticClass:"fc-65"},[t._v("可开： "),0===t.unit?[t._v(t._s(t._f("fck")(t.curTraderOpenUpperBound.size,-8,2)))]:t._e(),1===t.unit?[t._v(t._s(t._f("fck")(t.curTraderOpenUpperBound.amount,-8,2)))]:t._e(),2===t.unit?[t._v("100")]:t._e(),t._v(t._s(t.unitConfig[t.unit].text))],2),e("span",{staticClass:"fc-yellow",on:{click:t.transfer}},[t._v("划转")])])]),e("div",{staticClass:"home-mid-input"},[e("van-field",{staticClass:"derify-input",attrs:{type:"number"},model:{value:t.size,callback:function(s){t.size=t._n(s)},expression:"size"}}),e("van-dropdown-menu",{staticClass:"derify-dropmenu no-border",attrs:{overlay:!1}},[e("van-dropdown-item",{attrs:{options:t.unitConfig},on:{change:t.unitSelectChange},model:{value:t.unit,callback:function(s){t.unit=s},expression:"unit"}},[e("div",{staticClass:"derify-dropmenu-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v(t._s(t.unitConfig[t.unit].text))]),e("van-icon",{attrs:{name:"arrow-down",size:"1.8rem",color:"rgba(255, 255, 255, .85)"}})],1)])],1)],1)]),e("div",{staticClass:"home-mid-three"},[e("van-slider",{attrs:{"bar-height":".4rem","button-size":"1.8rem"},on:{input:t.calculatePositionSize},model:{value:t.value5,callback:function(s){t.value5=s},expression:"value5"}})],1),t.isLogin?e("div",{staticClass:"home-mid-four"},[e("div",{staticClass:"home-mid-four-btn green-gra",on:{click:function(s){return t.changeShowOpen(!0,0)}}},[t._v("看涨 开多")]),e("div",{staticClass:"home-mid-four-btn red-gra",on:{click:function(s){return t.changeShowOpen(!0,1)}}},[t._v("看跌 开空")]),e("div",{staticClass:"home-mid-four-btn yellow-gra",on:{click:function(s){return t.changeShowOpen(!0,2)}}},[t._v("双向对冲")])]):t._e(),t.isLogin?t._e():e("div",{staticClass:"home-mid-four"},[e("div",{staticClass:"home-mid-four-btn yellow-gra",on:{click:function(s){return t.$loginWallet()}}},[t._v(t._s(t.$t("global.click connect wallet")))]),e("div",{staticClass:"home-mid-four-btn yellow-gra",on:{click:function(s){return t.$loginWallet()}}},[t._v(t._s(t.$t("global.click connect wallet")))]),e("div",{staticClass:"home-mid-four-btn yellow-gra",on:{click:function(s){return t.$loginWallet()}}},[t._v(t._s(t.$t("global.click connect wallet")))])])])]:t._e(),e("div",{style:{width:"100%",height:"36.5rem",display:"home"===t.$route.name?"none":"block"},attrs:{id:"myChart"}}),e("div",{staticClass:"home-last"},["home"===t.$route.name?[e("van-tabs",{on:{click:t.tabChange},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.tabs,(function(s,a){return e("van-tab",{key:a,attrs:{name:a,title:s}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.loadMore},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},["key1"===t.active?t._l(t.positions,(function(s,a){return e("div",{key:a,staticClass:"exchange-block"},[e("div",{staticClass:"exchange-block-title"},[e("div",{staticClass:"left"},[0===s.side?e("div",{staticClass:"mr-4 text-icon-red"},[t._v("多")]):t._e(),1===s.side?e("div",{staticClass:"mr-4 text-icon-green"},[t._v("空")]):t._e(),e("div",{staticClass:"fz-16 mr-4"},[t._v("ETH/USDT")]),e("div",{staticClass:"number-icon-green mr-4"},[t._v(t._s(t._f("fck")(s.leverage,-8,0))+"x")]),e("img",{staticClass:"left-help-icon",attrs:{src:i("1a57"),alt:""},on:{click:function(s){return t.changeShowHint(!0,t.active)}}})]),"key1"===t.active?e("div",{staticClass:"right",on:{click:function(i){return t.changeShowUnwind(!0,s)}}},[e("div",{staticClass:"fz-12"},[t._v("平仓")]),e("van-icon",{attrs:{size:"1.2rem",color:"rgba(255, 255, 255, .85)",name:"arrow"}})],1):t._e(),"key2"===t.active?e("div",{staticClass:"right",on:{click:function(i){return t.cancleOrderedPosition(s)}}},[e("div",{staticClass:"fz-12"},[t._v("取消委托")]),e("van-icon",{attrs:{size:"1.2rem",color:"rgba(255, 255, 255, .85)",name:"arrow"}})],1):t._e(),"key3"===t.active?e("div",{staticClass:"right"},[e("div",{staticClass:"fz-12 fc-45"},[t._v("2021-01-20 19:39:29")])]):t._e()]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("浮动盈亏：")]),e("div",{class:a%2===0?"fc-green":"fc-red"},[t._v(t._s(t._f("fck")(s.unrealizedPnl,-8)))]),e("div",[t._v("USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("持仓量：")]),e("div",[t._v(t._s(t._f("fck")(s.size,-8))+" ETH")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("当前价格：")]),e("div",[t._v(t._s(t._f("fck")(s.spotPrice,-8))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("开仓均价：")]),e("div",[t._v(t._s(t._f("fck")(s.averagePrice,-8))+" ETH")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("止损设置：")]),e("div",[s.stopLossPrice>0?[t._v(t._s(t._f("fck")(s.stopLossPrice,-8)))]:[t._v("-")]],2)]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("止盈设置：")]),e("div",[s.stopProfitPrice>0?[t._v(t._s(t._f("fck")(s.stopProfitPrice,-8)))]:[t._v("-")]],2)])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("持仓保证金：")]),e("div",[t._v(t._s(t._f("fck")(s.margin,-8))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("保证金率：")]),e("div",[t._v(t._s(t._f("fck")(s.marginRate,-8))+"%")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("强平金额：")]),e("div",[t._v(t._s(t._f("fck")(s.liquidatePrice,-8))+" USDT")])]),e("div",{staticClass:"exchange-item-right",on:{click:function(i){return t.changeShowSet(!0,s)}}},[e("div",[t._v("设置止盈/止损")]),e("van-icon",{attrs:{size:"1.2rem",color:"rgba(255, 255, 255, .85)",name:"arrow"}})],1)])])})):t._e(),"key2"===t.active?t._l(t.positionOrders,(function(s,a){return e("div",{key:a,staticClass:"exchange-block"},[e("div",{staticClass:"exchange-block-title"},[e("div",{staticClass:"left"},[0===s.side?e("div",{staticClass:"mr-4 text-icon-red"},[t._v("多")]):t._e(),1===s.side?e("div",{staticClass:"mr-4 text-icon-green"},[t._v("空")]):t._e(),e("div",{staticClass:"fz-16 mr-4"},[t._v("ETH/USDT")]),e("div",{staticClass:"number-icon-green mr-4"},[t._v(t._s(t._f("fck")(s.leverage,-8,0))+"x")]),e("img",{staticClass:"left-help-icon",attrs:{src:i("1a57"),alt:""},on:{click:function(s){return t.changeShowHint(!0,t.active)}}})]),"key1"===t.active?e("div",{staticClass:"right",on:{click:function(i){return t.changeShowUnwind(!0,s)}}},[e("div",{staticClass:"fz-12"},[t._v("平仓")]),e("van-icon",{attrs:{size:"1.2rem",color:"rgba(255, 255, 255, .85)",name:"arrow"}})],1):t._e(),"key2"===t.active?e("div",{staticClass:"right",on:{click:function(i){return t.cancleOrderedPosition(s)}}},[e("div",{staticClass:"fz-12"},[t._v("取消委托")]),e("van-icon",{attrs:{size:"1.2rem",color:"rgba(255, 255, 255, .85)",name:"arrow"}})],1):t._e(),"key3"===t.active?e("div",{staticClass:"right"},[e("div",{staticClass:"fz-12 fc-45"},[t._v(t._s(new Date(s.timestamp).Format("yyyy-MM-dd hh:mm:ss")))])]):t._e()]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("委托价格：")]),e("div",[t._v(t._s(t._f("fck")(s.price,-8))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("委托类型：")]),e("div",{class:a%2===0?"fc-green":"fc-red"},[t._v("限价委托")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("委托数量：")]),e("div",[t._v(t._s(t._f("fck")(s.size,-8))+" ETH")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("委托时间：")]),e("div",[t._v(t._s(new Date(1e3*s.timestamp).Format("yyyy-MM-dd hh:mm:ss")))])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("止损设置：")]),e("div",[s.stopLossPrice>0?[t._v(t._s(t._f("fck")(s.stopLossPrice,-8)))]:[t._v("-")]],2)]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("止盈设置：")]),e("div",[e("div",[s.stopProfitPrice>0?[t._v(t._s(t._f("fck")(s.stopProfitPrice,-8)))]:[t._v("-")]],2)])])])])})):t._e(),"key3"===t.active?t._l(t.tradeRecords,(function(s,a){return e("div",{key:a,staticClass:"exchange-block"},[e("div",{staticClass:"exchange-block-title"},[e("div",{staticClass:"left"},[0===s.side?e("div",{staticClass:"mr-4 text-icon-red"},[t._v("多")]):t._e(),1===s.side?e("div",{staticClass:"mr-4 text-icon-green"},[t._v("空")]):t._e(),e("div",{staticClass:"fz-16 mr-4"},[t._v("ETH/USDT")]),e("img",{staticClass:"left-help-icon",attrs:{src:i("1a57"),alt:""},on:{click:function(s){return t.changeShowHint(!0,t.active)}}})]),e("div",{staticClass:"fz-12 fc-45"},[t._v(t._s(new Date(s.event_time).Format("yyyy-MM-dd hh:mm:ss")))])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("盈亏：")]),e("div",{class:s.pnl_usdt>0?"fc-red":"fc-green"},[t._v(t._s(t._f("amountFormt")(s.pnl_usdt,2,!0,"-")))])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("委托类型：")]),e("div",[e("span",{class:t.getTradeType(s.type).showType},[t._v(t._s(t.getTradeType(s.type).opType))]),t._v("/"),e("span",[t._v(t._s(t.getTradeType(s.type).tradeType))])])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("成交价格：")]),e("div",[t._v(t._s(t._f("amountFormt")(s.price,2,!1,"-"))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("成交数量：")]),e("div",[t._v(t._s(t._f("fck")(s.size,-8))+" ETH")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("成交金额：")]),e("div",[t._v(t._s(t._f("amountFormt")(s.amount,2,!1,"-"))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("手续费：")]),e("div",[t._v(t._s(t._f("amountFormt")(s.trading_fee,2,!1,"-"))+" USDT")])])]),e("div",{staticClass:"exchange-item"},[e("div",{staticClass:"exchange-item-left"},[e("div",{staticClass:"fc-45"},[t._v("动仓费：")]),e("div",[t._v(t._s(t._f("amountFormt")(s.position_change_fee,2,!1,"-"))+" USDT")])]),e("div",{staticClass:"exchange-item-right"},[e("div",{staticClass:"fc-45"},[t._v("分摊补偿：")]),e("div",[t._v(t._s(t._f("amountFormt")(s.pnl_bond,2,!1,"-"))+" bDRf")])])])])})):t._e()],2)],1)})),1)]:e("div",{staticClass:"home-last-btn-wrap"},["exchange"===t.$route.name?[e("div",{staticClass:"home-last-four-btn green-gra",on:{click:function(s){return t.changeShowOpen(!0,0)}}},[t._v("看涨 开多")]),e("div",{staticClass:"home-last-four-btn red-gra",on:{click:function(s){return t.changeShowOpen(!0,1)}}},[t._v("看跌 开空")])]:t._e()],2)],2),e("market",{attrs:{show:t.showMarket},on:{closeMarketPopup:t.changeShowMarket}}),e("hint",{attrs:{show:t.showHint,type:t.hintType},on:{closeHintPopup:t.changeShowHint}}),e("set-popup",{attrs:{extraData:t.setExtraData,show:t.showSet},on:{closeSetPopup:t.changeShowSet}}),e("unwind",{attrs:{extraData:t.unwindExtraData,show:t.showUwind},on:{closeUnwindPopup:t.changeShowUnwind}}),e("one-key-unwind",{attrs:{show:t.showOneKeyUnwind},on:{closeOneKeyUnwindPopup:t.changeShowOneKeyUnwind}}),e("open",{attrs:{extraData:t.openExtraData,show:t.showOpen,type:t.openType},on:{closeOpenPopup:t.changeShowOpen}}),e("open-status",{attrs:{show:t.showOpenStatus,type:t.openStatus},on:{closeOpenStatusPopup:t.changeShowOpenStatus}})],2)},a=[],n=i("5530"),o=(i("7db09"),i("b0c0"),i("a434"),i("159b"),i("d178")),c=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[i("div",{staticClass:"market-popup system-popup"},[i("div",{staticClass:"system-popup-title"},[t._v("市场")]),t._l(t.pairs,(function(s){return i("div",{key:s.key,staticClass:"market-item",class:s.enable?t.curKey===s.key?"active":"":"disabled",on:{click:function(i){return t.changePair(s)}}},[i("div",{staticClass:"market-item-left"},[t._v(t._s(s.name))]),i("div",{staticClass:"market-item-right"},[i("div",[t._v(t._s(parseFloat(s.num).toFixed(2)))]),i("div",{class:s.percent>=0?"fc-green":"fc-red"},[t._v(t._s(s.percent>=0?"+":"-")+t._s(Math.abs(s.percent))+"%")])])])}))],2)])},r=[],l={props:{show:{type:Boolean,default:!1}},computed:{pairs:function(){return this.$store.state.contract.pairs},curKey:function(){return this.$store.state.contract.curPairKey}},data:function(){return{showPopup:this.show}},watch:{show:function(){this.showPopup=this.show}},methods:{close:function(){this.$emit("closeMarketPopup",!1)},changePair:function(t){var s=this;if(!t.enable)return this.$toast("".concat(t.name," does not support")),!1;this.$store.commit("contract/SET_CURPAIRKEY",t.key),this.getCurPrice().then((function(t){s.close()}))},getCurPrice:function(){return this.$store.dispatch("contract/getSpotPrice")}},created:function(){var t=this;this.$nextTick((function(){t.getCurPrice()}))}},p=l,d=(i("bfe8"),i("2877")),u=Object(d["a"])(p,c,r,!1,null,"af0c482a",null),v=u.exports,h=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[i("div",{staticClass:"hint-popup system-popup"},["key1"===t.hintType?[i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("浮动盈亏：")]),i("div",{staticClass:"hint-item-info"},[t._v("您当前仓位的未实现盈亏金额。")]),i("div",{staticClass:"hint-item-info"},[t._v("多仓浮动盈亏 = (当前价格 - 开仓均价) * 持仓量。")]),i("div",{staticClass:"hint-item-info"},[t._v("空仓浮动盈亏 = (开仓均价 - 当前价格) * 持仓量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("持仓量：")]),i("div",{staticClass:"hint-item-info"},[t._v("持有此合约的数量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("当前价格：")]),i("div",{staticClass:"hint-item-info"},[t._v("当前平台的指数（交易）价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("开仓均价：")]),i("div",{staticClass:"hint-item-info"},[t._v("此仓位的开仓平均价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("持仓保证金：")]),i("div",{staticClass:"hint-item-info"},[t._v("此仓位的开仓平均价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("保证金率：")]),i("div",{staticClass:"hint-item-info"},[t._v("保证金比例越小，仓位的风险越小。")]),i("div",{staticClass:"hint-item-info"},[t._v("当保证金率为99%时仓位将被强平。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("强平价格：")]),i("div",{staticClass:"hint-item-info"},[t._v("触发强平时的价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("止损设置：")]),i("div",{staticClass:"hint-item-info"},[t._v("当价格达到止损设置的价格时，将自动平仓，此时仓位属于亏损状态，平仓防止继续亏损。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("止盈设置：")]),i("div",{staticClass:"hint-item-info"},[t._v("当价格达到止盈设置的价格时，将自动平仓，此时仓位属于盈利状态，平仓防止盈利回撤。")])])]:t._e(),"key2"===t.hintType?[i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("委托价格：")]),i("div",{staticClass:"hint-item-info"},[t._v("此委托的目标成交价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("委托数量：")]),i("div",{staticClass:"hint-item-info"},[t._v("此委托将交易的合约的数量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("委托时间：")]),i("div",{staticClass:"hint-item-info"},[t._v("委托的下单时间。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("止损设置：")]),i("div",{staticClass:"hint-item-info"},[t._v("当价格达到止损设置的价格时，将自动平仓，此时仓位属于亏损状态，平仓防止继续亏损。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("止盈设置：")]),i("div",{staticClass:"hint-item-info"},[t._v("当价格达到止盈设置的价格时，将自动平仓，此时仓位属于盈利状态，平仓防止盈利回撤。")])])]:t._e(),"key3"===t.hintType?[i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("盈亏：")]),i("div",{staticClass:"hint-item-info"},[t._v("此仓位的已实现盈亏金额。")]),i("div",{staticClass:"hint-item-info"},[t._v("多仓盈亏 = (平仓价格 - 开仓均价) * 持仓量。")]),i("div",{staticClass:"hint-item-info"},[t._v("空仓盈亏 = (开仓均价 - 平仓价格) * 持仓量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("成交价格：")]),i("div",{staticClass:"hint-item-info"},[t._v("平仓时成交的价格。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("成交数量：")]),i("div",{staticClass:"hint-item-info"},[t._v("平仓时成交的仓位数量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("成交金额：")]),i("div",{staticClass:"hint-item-info"},[t._v("平仓成交金额 = 成交价格 * 成交数量。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("手续费：")]),i("div",{staticClass:"hint-item-info"},[t._v("平仓时支付的手续费金额。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("动仓费：")]),i("div",{staticClass:"hint-item-info"},[t._v("平仓时支付的动仓费金额，正为支出，负为收入。")])]),i("div",{staticClass:"hint-item"},[i("div",{staticClass:"hint-item-title"},[t._v("分摊补偿：")]),i("div",{staticClass:"hint-item-info"},[t._v("以bDRF形式支付的金额。")])])]:t._e()],2)])},f=[],m={props:{show:{type:Boolean,default:!1},type:{type:String,default:""}},data:function(){return{showPopup:this.show,hintType:this.type}},watch:{show:function(){this.showPopup=this.show,this.hintType=this.type}},methods:{close:function(){this.$emit("closeHintPopup",!1,this.hintType)}}},C=m,g=(i("778b"),Object(d["a"])(C,h,f,!1,null,"663507e2",null)),_=g.exports,y=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[i("div",{staticClass:"system-popup"},[i("div",{staticClass:"system-popup-title"},[t._v("设置止盈止损")]),i("div",{staticStyle:{"margin-top":"2rem"}},[i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("开仓价格")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t._f("fck")(t.position.averagePrice,-8)))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("当前价格")]),i("div",[i("span",{staticClass:"fc-green"},[t._v(t._s(t._f("fck")(t.position.spotPrice,-8)))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])])]),i("div",{staticClass:"system-popup-input-block"},[i("div",{staticClass:"system-popup-input-title"},[t._v("止盈设置")]),i("div",{staticClass:"system-popup-input"},[i("van-field",{staticClass:"derify-input no-padding-hor",attrs:{placeholder:"0.00",type:"number"},on:{input:t.changeProfitPrice},model:{value:t.position.stopProfitPriceInput,callback:function(s){t.$set(t.position,"stopProfitPriceInput",s)},expression:"position.stopProfitPriceInput"}}),i("div",{staticClass:"unit"},[t._v("USDT")])],1),i("div",{staticClass:"system-popup-input-hint"},[t._v("当指数价格达到 "),i("span",{staticClass:"fc-85"},[t._v(t._s(t._f("fck")(t.position.stopProfitPrice,-8)))]),t._v(" USDT时，将会触发市价平仓当前仓位，预计盈利 "),i("span",{staticClass:"fc-green"},[t._v(t._s(t._f("fck")(t.position.profitAmount,-8)))]),t._v(" USDT")])]),i("div",{staticClass:"system-popup-input-block"},[i("div",{staticClass:"system-popup-input-title"},[t._v("止损设置")]),i("div",{staticClass:"system-popup-input"},[i("van-field",{staticClass:"derify-input no-padding-hor",attrs:{placeholder:"0.00",type:"number"},on:{input:t.changeLossPrice},model:{value:t.position.stopLossPriceInput,callback:function(s){t.$set(t.position,"stopLossPriceInput",s)},expression:"position.stopLossPriceInput"}}),i("div",{staticClass:"unit"},[t._v("USDT")])],1),i("div",{staticClass:"system-popup-input-hint"},[t._v("当指数价格达到 "+t._s(t._f("fck")(t.position.stopLossPrice,-8))+" USDT时，将会触发市价平仓当前仓位，预计亏损 "+t._s(t._f("fck")(t.position.lostAmount,-8))+" USDT")])]),i("div",{staticClass:"system-popup-buttons"},[i("div",{staticClass:"system-popup-button cancel",on:{click:t.close}},[t._v("取消")]),i("div",{staticClass:"system-popup-button confirm",on:{click:t.submitThenClose}},[t._v("确认")])])])])},w=[],b=i("fa7d"),P=i("f810"),T={props:{show:{type:Boolean,default:!1},extraData:{type:Object,default:null}},data:function(){return{showPopup:this.show,position:{}}},watch:{show:function(){this.showPopup=this.show},extraData:{deep:!0,immediate:!0,handler:function(){var t=0,s=0;null!=this.extraData&&(this.position=Object.assign({},{stopProfitPriceInput:Object(b["c"])(this.extraData.stopProfitPrice,-8),stopLossPriceInput:Object(b["c"])(this.extraData.stopLossPrice,-8),lostAmount:t,profitAmount:s},this.extraData),this.calLossAndProfit())}}},methods:{close:function(){this.$emit("closeSetPopup",!1)},changeProfitPrice:function(t){var s=this.position;s.side===P["b"].LONG&&Object(P["h"])(t)<=s.averagePrice&&this.$toast("多仓止盈价格应大于开仓均价"),s.side===P["b"].SHORT&&Object(P["h"])(t)>=s.averagePrice&&this.$toast("空仓止盈价格应小于开仓均价"),this.position.stopProfitPriceInput=t,this.position.stopProfitPrice=Object(P["h"])(t),this.calLossAndProfit()},changeLossPrice:function(t,s){var i=this.position;i.side===P["b"].LONG&&Object(P["h"])(t)>i.averagePrice&&this.$toast("多仓止损价格应小于开仓均价"),i.side===P["b"].SHORT&&Object(P["h"])(t)<i.averagePrice&&this.$toast("空仓止损价格应大于开仓均价"),this.position.stopLossPriceInput=t,this.position.stopLossPrice=Object(P["h"])(t),this.calLossAndProfit()},calLossAndProfit:function(){this.position.profitAmount=(Object(P["f"])(this.position.stopProfitPrice)-Object(P["f"])(this.position.averagePrice))*this.position.size,this.position.lostAmount=(Object(P["f"])(this.position.stopLossPrice)-Object(P["f"])(this.position.averagePrice))*this.position.size},submitThenClose:function(){var t=this.position.side,s=this.position.coinAddress;this.$store.dispatch("contract/orderStopPosition",{coinAddress:s,side:t,stopType:0,stopPrice:Object(P["j"])(this.position.stopProfitPrice)}),this.$store.dispatch("contract/orderStopPosition",{coinAddress:s,side:t,stopType:1,stopPrice:Object(P["j"])(this.position.stopLossPrice)}),this.close()}}},k=T,x=Object(d["a"])(k,y,w,!1,null,"f9d3bf1c",null),A=x.exports,D=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[i("div",{staticClass:"unwind-popup system-popup"},[i("div",{staticClass:"system-popup-title"},[t._v("平仓")]),i("div",{staticStyle:{"margin-top":"2rem"}},[i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("开仓量")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t._f("fck")(t.position.size,-8)))]),i("span",{staticClass:"fc-45"},[t._v("ETH")])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("开仓价格")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t._f("fck")(t.position.averagePrice,-8)))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("当前价格")]),i("div",[i("span",{staticClass:"fc-green"},[t._v(t._s(t._f("fck")(t.position.spotPrice,-8)))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])])]),i("div",{staticClass:"system-popup-input-block"},[i("div",{staticClass:"system-popup-input-title"},[t._v("平仓量")]),i("div",{staticClass:"system-popup-input"},[i("van-field",{staticClass:"derify-input no-padding-hor",attrs:{placeholder:"0.00",type:"number"},model:{value:t.value1,callback:function(s){t.value1=s},expression:"value1"}}),i("div",{staticClass:"unit"},[t._v("ETH")])],1),i("div",{staticClass:"unwind-popup-set"},t._l(t.percents,(function(s){return i("div",{key:s.value,staticClass:"unwind-popup-set-item",class:t.curPercent===s.value?"active":"",on:{click:function(i){return t.changePercentage(s.value)}}},[t._v(t._s(s.name))])})),0)]),i("div",{staticClass:"system-popup-buttons"},[i("div",{staticClass:"system-popup-button cancel",on:{click:t.close}},[t._v("取消")]),i("div",{staticClass:"system-popup-button confirm",on:{click:t.submitThenClose}},[t._v("确认")])])])])},S=[],O=(i("a9e3"),{props:{show:{type:Boolean,default:!1},type:{type:Number,default:0},extraData:{type:Object,default:null}},data:function(){console.log("unwind popup",this.extraData);var t=25,s=null==this.extraData?0:this.extraData.size,i=Math.ceil(s*t/100);return{showPopup:this.show,value1:i,position:Object.assign({size:0},this.extraData),percents:[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"100%",value:100}],curPercent:t}},watch:{show:function(){this.showPopup=this.show},extraData:{deep:!0,immediate:!0,handler:function(){this.position=this.extraData,this.value1=Object(P["f"])(Math.ceil(this.position.size*this.curPercent/100))}}},methods:{close:function(){this.$emit("closeUnwindPopup",!1)},changePercentage:function(t){this.curPercent=t,this.value1=Object(P["f"])(Math.ceil(this.extraData.size*this.curPercent/100))},submitThenClose:function(){var t=this.value1,s=this.position.side,i=this.position.coinAddress;this.$store.dispatch("contract/closePosition",{coinAddress:i,side:s,size:Object(P["i"])(t)}),this.close()}}}),U=O,E=(i("c9da"),Object(d["a"])(U,D,S,!1,null,"4b144bce",null)),j=E.exports,R=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[i("div",{staticClass:"system-popup"},[i("div",{staticClass:"system-popup-title"},[t._v("平仓")]),i("div",{staticClass:"fz-15",staticStyle:{"margin-top":"1rem"}},[i("span",{staticClass:"fc-65"},[t._v("点击确定，我们将按")]),i("span",{staticClass:"fc-yellow"},[t._v("市价")]),i("span",{staticClass:"fc-65"},[t._v("立即平仓")]),i("span",{staticClass:"fc-yellow"},[t._v("全部仓位")])]),i("div",{staticClass:"system-popup-buttons"},[i("div",{staticClass:"system-popup-button cancel",on:{click:t.close}},[t._v("取消")]),i("div",{staticClass:"system-popup-button confirm",on:{click:t.submitThenClose}},[t._v("确认")])])])])},z=[],B={props:{show:{type:Boolean,default:!1}},data:function(){return{showPopup:this.show}},watch:{show:function(){this.showPopup=this.show}},methods:{close:function(){this.$emit("closeOneKeyUnwindPopup",!1)},submitThenClose:function(){this.openData.size,this.leverageConfig[this.openData.leverage];if(0===this.openData.entrustType)this.curSpotPrice;else{var t=parseFloat(this.openData.amount);Object(P["i"])(t)}this.$store.dispatch("contract/closeAllPositions").then((function(t){})),this.close()}}},F=B,M=Object(d["a"])(F,R,z,!1,null,"d37335e8",null),H=M.exports,N=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:t.close},model:{value:t.showPopup,callback:function(s){t.showPopup=s},expression:"showPopup"}},[t.openData?i("div",{staticClass:"system-popup"},[i("div",{staticClass:"system-popup-title"},[t._v("开仓确认")]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("委托价格")]),1===t.openData.entrustType?i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t.openData.amount))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])]):i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t._f("fck")(t.curSpotPrice,-8,2)))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("开仓类型")]),1===t.openType?i("div",[i("span",{staticClass:"fc-red"},[t._v("开空")]),i("span",{staticClass:"fc-red"},[t._v(t._s(t.openData.leverage)+"x")])]):t._e(),0===t.openType?i("div",[i("span",{staticClass:"fc-green"},[t._v("开多")]),i("span",{staticClass:"fc-green"},[t._v(t._s(t.openData.leverage)+"x")])]):t._e(),2===t.openType?i("div",[i("span",{staticClass:"fc-yellow"},[t._v("双向对冲")]),i("span",{staticClass:"fc-yellow"},[t._v(t._s(t.openData.leverage)+"x")])]):t._e()]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("开仓量")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t.openData.size))]),i("span",{staticClass:"fc-45"},[t._v(t._s(t.unitConfig[t.openData.unit]))])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("动仓费")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t.openData.positionChangeFee))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])]),i("div",{staticClass:"system-popup-price"},[i("div",{staticClass:"fc-45"},[t._v("手续费")]),i("div",[i("span",{staticClass:"fc-85"},[t._v(t._s(t.openData.tradingFee))]),i("span",{staticClass:"fc-45"},[t._v("USDT")])])]),i("div",{staticClass:"system-popup-buttons"},[i("div",{staticClass:"system-popup-button cancel",on:{click:t.close}},[t._v("取消")]),i("div",{staticClass:"system-popup-button confirm",on:{click:t.submitThenClose}},[t._v("确认")])])]):t._e()])},L=[],$={props:{show:{type:Boolean,default:!1},type:{type:Number,default:0},extraData:{type:Object,default:null}},data:function(){return{showPopup:this.show,openType:this.type,openData:this.extraData,entrustTypeConfig:[{text:"市价委托",value:0},{text:"限价委托",value:1}],leverageConfig:[10,5,3],unitConfig:["USDT","ETH","%"]}},watch:{show:function(){var t=this;this.openType=this.type,this.$store.dispatch("contract/getSpotPrice").then((function(s){t.showPopup=t.show}))},extraData:{deep:!0,immediate:!0,handler:function(){Object.assign(this.openData,Object(n["a"])({},this.extraData)),console.log("watch extraData",JSON.stringify(this.openData))}}},computed:{curSpotPrice:function(){return this.$store.state.contract.curSpotPrice}},methods:{close:function(){this.$emit("closeOpenPopup",!1,this.openType)},submitThenClose:function(){var t=this.openData.size,s=this.openData.leverage,i=null;i=0===this.openData.entrustType?Object(P["f"])(this.curSpotPrice):this.openData.amount,this.$store.dispatch("contract/openPosition",{side:this.openData.side,size:Object(P["i"])(t),openType:this.openData.entrustType,price:Object(P["i"])(i),leverage:Object(P["i"])(s)}),this.close()}}},I=$,K=Object(d["a"])(I,N,L,!1,null,"39e60450",null),J=K.exports,Q=i("4908"),G=i("5a0a"),W=i("2465"),X={0:{opType:"开仓",showType:"fc-green",tradeType:"市价委托"},1:{opType:"开仓",showType:"fc-green",tradeType:"市价委托"},2:{opType:"开仓",showType:"fc-green",tradeType:"限价委托"},3:{opType:"平仓",showType:"fc-red",tradeType:"止盈止损"},4:{opType:"平仓",showType:"fc-red",tradeType:"自动减仓"},5:{opType:"平仓",showType:"fc-red",tradeType:"自动平仓"}},V={myChart:null,loaded:!1,tokenMiningRateEvent:null,tokenPriceChangeEvenet:null},Y={name:"Home",components:{Navbar:o["a"],Market:v,Hint:_,SetPopup:A,Unwind:j,OneKeyUnwind:H,Open:J,OpenStatus:Q["a"]},computed:{curPair:function(){var t=this.$store.state.contract,s=t.curPairKey,i=t.pairs;return i.find((function(t){return t.key===s}))},curSpotPrice:function(){return this.$store.state.contract.contractData.curSpotPrice},curPositionChangeFeeRatio:function(){return this.$store.state.contract.contractData.positionChangeFeeRatio},curContractData:function(){return this.$store.state.contract.contractData},curTraderOpenUpperBound:function(){var t=this.$store.state.contract.contractData.traderOpenUpperBound;return t||{size:0,amount:0}},leverage:function(){return this.leverageConfig[this.leverageUnit].val},isLogin:function(){return this.$store.state.user.isLogin}},data:function(){return{entrustType:0,leverageUnit:0,amount:0,size:0,value5:20,unit:0,entrustTypeConfig:[{text:"市价委托",value:0},{text:"限价委托",value:1}],leverageConfig:[{text:"10x",value:0,val:10},{text:"5x",value:1,val:5},{text:"3x",value:2,val:3}],unitConfig:[{text:"USDT",value:0},{text:"ETH",value:1},{text:"%",value:2}],active:"key1",tabs:{key1:"我的持仓",key2:"当前委托",key3:"成交记录"},positions:[],positionOrders:[],tradeRecords:[],loading:!1,finished:!1,showMarket:!1,showHint:!1,hintType:"key1",showSet:!1,showUwind:!1,showOneKeyUnwind:!1,showOpen:!1,openType:null,showOpenStatus:!1,openStatus:"fail",openExtraData:{size:0},positionChangeFeeRatio:0,setExtraData:null,unwindExtraData:{size:0}}},methods:{getTradeType:function(t){var s=X[t];return s||{}},ClickBox:function(){this.show=!0},loadMore:function(){},changeShowMarket:function(t){this.showMarket=t},changeShowHint:function(t,s){this.hintType=s,this.showHint=t},changeShowSet:function(t,s){this.showSet=t,t&&(this.setExtraData=Object(n["a"])({},s))},changeShowUnwind:function(t,s){this.showUwind=t,t&&(this.unwindExtraData=Object(n["a"])({},s))},changeShowOneKeyUnwind:function(t){this.showOneKeyUnwind=t},changeShowOpen:function(t,s){var i=this;if(t){var e=this.entrustType,a=this.leverage,n=this.leverageUnit,o=this.amount,c=this.size,r=this.unit;if(1===e&&!o)return void this.$toast("please input amount first");if(0===e&&(o=Object(P["g"])(this.curSpotPrice)),!c)return void this.$toast("please input size first");if(0===s||1===s)if(0===r){if(c>this.curTraderOpenUpperBound.size)return void this.$toast("输入的开仓量超出上限")}else if(1===r&&c>this.curTraderOpenUpperBound.amount)return void this.$toast("输入的开仓量超出上限");var l=0,p=0;if(s===P["b"].HEDGE&&e===P["a"].LimitOrder)return void this.$toast("对冲交易只能选择市价委托");this.openExtraData=Object.assign(this.openExtraData,{entrustType:e,leverage:a,amount:o,size:c,side:s,leverageUnit:n,unit:r,positionChangeFee:p,tradingFee:l});var d=this,u=0;this.$store.dispatch("contract/getTradingFee",{size:Object(P["i"])(c),price:Object(P["i"])(o)}).then((function(s){s&&(Object.assign(i.openExtraData,{tradingFee:Object(P["f"])(s)}),u++,d.showOpen=t&&u>1)})),this.$store.dispatch("contract/getPositionChangeFee",{side:s,actionType:0,size:Object(P["i"])(c),price:Object(P["i"])(o)}).then((function(s){s&&(Object.assign(i.openExtraData,{positionChangeFee:Object(P["f"])(s)}),u++,d.showOpen=t&&u>1)}))}this.openType=s,this.showOpen=t},changeShowOpenStatus:function(t,s){this.openStatus=s,this.showOpenStatus=t},transfer:function(){this.$router.push({path:"/account"})},changeRouter:function(t){this.$route.name!==t&&this.$router.push({name:t})},drawKline:function(){V.myChart||(V.myChart=this.$echarts.init(document.getElementById("myChart"))),V.myChart.setOption(G["b"]),V.myChart.resize()},tabChange:function(t){console.log("tabChange ".concat(t));var s=this;"key3"===t&&(s.loading=!0,this.$store.dispatch("contract/loadTradeRecords").then((function(t){void 0!==t&&(s.tradeRecords.splice(0),t.forEach((function(t){void 0===t&&isNaN(t)||s.tradeRecords.push(t)})),s.loading=!1)})))},cancleOrderedPosition:function(t){this.$store.dispatch("contract/cancleOrderedPosition",{coinAddress:t.coinAddress,orderType:t.orderType,side:t.side,timestamp:t.timestamp}).then((function(t){}))},calculatePositionSize:function(t){var s=this.unit;this.size=0===s?Object(b["c"])(Math.round(t/100*this.curTraderOpenUpperBound.size),-8,2):1===s?Object(b["c"])(Math.round(t/100*this.curTraderOpenUpperBound.amount),-8,2):t||0},unitSelectChange:function(t){console.log(t),this.unit=t,this.calculatePositionSize(this.value5)},updateTraderOpenUpperBound:function(t){var s=this,i=this.entrustType;t>0?this.amount=t:0===this.amount&&1===i&&(this.amount=Object(b["c"])(this.curSpotPrice,-8,2));var e=Object(P["i"])(this.amount),a=Object(P["i"])(this.leverage);this.$store.dispatch("contract/getTraderOpenUpperBound",{openType:i,price:e,leverage:a}).then((function(t){s.calculatePositionSize(s.value5)}))}},watch:{"$store.state.contract.contractData":{handler:function(){console.log("$store.state.contract.contractData change",arguments),this.contractData=this.$store.state.contract.contractData},immediate:!0,deep:!0},"$store.state.user":{handler:function(t){console.log("$store.state.user change")},immediate:!0,deep:!0}},created:function(){var t=this;V.loaded=!0,this.$nextTick((function(){if(null===V.tokenMiningRateEvent&&(console.log("context.tokenMiningRateEvent"),V.tokenMiningRateEvent=Object(W["a"])(t.curPair.address,(function(s,i){t.$store.commit("contract/SET_CONTRACT_DATA",Object(n["a"])({},i))}))),null===V.tokenPriceChangeEvenet&&(console.log("context.tokenPriceChangeEvenet"),V.tokenPriceChangeEvenet=Object(W["b"])(t.curPair.key,(function(s,i){t.$store.commit("contract/SET_CONTRACT_DATA",{tokenPriceRate:i})}))),t.drawKline(),window.ethereum){t.$store.commit("contract/SET_WALLET_ADDRESS",window.ethereum.selectedAddress);var s=t;t.$store.dispatch("contract/loadHomeData",t.entrustType).then((function(i){s.positionChangeFeeRatio=i.positionChangeFeeRatio,t.size=Object(b["c"])(Math.round(t.value5/100*t.curTraderOpenUpperBound.amount),-8,2)}));var i=t.positions,e=t.positionOrders;i.splice(0),e.splice(0),s.loading=!0,t.$store.dispatch("contract/loadPositionData").then((function(t){(t.positions||t.orderPositions)&&(t.positions&&t.positions.forEach((function(t){void 0===t&&isNaN(t)||i.push(t)})),t.orderPositions&&t.orderPositions.forEach((function(t){void 0===t&&isNaN(t)||e.push(t)})),s.loading=!1)})),t.updateTraderOpenUpperBound()}}))},destroyed:function(){V.myChart&&V.myChart.dispose()},updated:function(){var t=this;this.$nextTick((function(){t.drawKline()}))}},Z=Y,q=(i("3e13"),Object(d["a"])(Z,e,a,!1,null,"8ca65166",null));s["default"]=q.exports},bfe8:function(t,s,i){"use strict";i("ab3d")},c580:function(t,s,i){},c9da:function(t,s,i){"use strict";i("c580")}}]);
//# sourceMappingURL=chunk-82ea3014.103e7896.js.map