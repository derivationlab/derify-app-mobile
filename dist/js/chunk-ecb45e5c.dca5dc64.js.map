{"version":3,"sources":["webpack:///./src/views/transfer/component/transfer.vue?12ff","webpack:///./src/views/transfer/component/transfer.vue?3a03","webpack:///src/views/transfer/component/transfer.vue","webpack:///./src/views/transfer/component/transfer.vue?5b16","webpack:///./src/views/transfer/component/transfer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","scopedSlots","_u","key","fn","proxy","_v","type","changeType","model","value","callback","$$v","amount","expression","_s","_f","account","accountBalance","deposit","_e","withdraw","staticRenderFns","name","data","computed","$store","state","contract","mounted","methods","$router","go","$toast","$userProcessBox","dispatch","then","setTimeout","component"],"mappings":"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","file":"js/chunk-ecb45e5c.dca5dc64.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transfer.vue?vue&type=style&index=0&id=13ba8750&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container page-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"资金划转\",\"left-arrow\":\"\",\"border\":false,\"fixed\":true},on:{\"click-left\":_vm.onClickLeft},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"color\":\"rgba(255, 255, 255, .85)\",\"size\":\"2.4rem\"}})]},proxy:true}])}),_c('div',{staticClass:\"from-div\"},[_vm._v(\"From\")]),_c('van-cell-group',[_c('van-field',{staticClass:\"derify-input no-padding-hor\",attrs:{\"placeholder\":_vm.type === 'deposit' ? 'Metamask Wallet' : 'Derify Account',\"border\":false}})],1),_c('div',{staticClass:\"to-div\",on:{\"click\":_vm.changeType}},[_c('span',{staticClass:\"span1\"},[_vm._v(\"to\")]),_c('van-icon',{staticClass:\"span2\",attrs:{\"name\":\"exchange\",\"size\":\"2rem\"}})],1),_c('van-cell-group',[_c('van-field',{staticClass:\"derify-input no-padding-hor\",attrs:{\"placeholder\":_vm.type === 'deposit' ? 'Derify Account' : 'Metamask Wallet'}})],1),_c('div',{staticClass:\"num-div\"},[_vm._v(\"数量\")]),_c('van-cell-group',[_c('van-field',{staticClass:\"derify-input no-padding-hor\",attrs:{\"type\":\"number\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('span',{staticClass:\"unit\"},[_vm._v(\"USDT\")])],1),_c('div',{staticClass:\"transfer-div\"},[_c('span',{staticClass:\"span1\"},[_vm._v(\"可划转：\"+_vm._s(_vm._f(\"fck\")(_vm.account.accountBalance,-8))+\" USDT\")]),_c('span',{staticClass:\"span2\"},[_vm._v(\"全部划转\")])]),(_vm.type === 'deposit')?_c('div',{staticClass:\"pay-div\",on:{\"click\":_vm.deposit}},[_vm._v(\"充值\")]):_vm._e(),(_vm.type === 'withdraw')?_c('div',{staticClass:\"pay-div\",on:{\"click\":_vm.withdraw}},[_vm._v(\"提现\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-container page-container\">\n    <van-nav-bar\n      title=\"资金划转\"\n      left-arrow\n      :border=\"false\"\n      :fixed=\"true\"\n      @click-left=\"onClickLeft\"\n    >\n      <template #left>\n        <van-icon name=\"arrow-left\" color=\"rgba(255, 255, 255, .85)\" size=\"2.4rem\"></van-icon>\n      </template>\n    </van-nav-bar>\n    <div class=\"from-div\">From</div>\n    <van-cell-group>\n      <van-field class=\"derify-input no-padding-hor\" :placeholder=\"type === 'deposit' ? 'Metamask Wallet' : 'Derify Account'\" :border='false' />\n    </van-cell-group>\n    <div class=\"to-div\" @click=\"changeType\"><span class=\"span1\">to</span><van-icon class=\"span2\" name=\"exchange\" size=\"2rem\"/></div>\n    <van-cell-group>\n      <van-field class=\"derify-input no-padding-hor\" :placeholder=\"type === 'deposit' ? 'Derify Account' : 'Metamask Wallet'\" />\n    </van-cell-group>\n    <div class=\"num-div\">数量</div>\n    <van-cell-group>\n      <van-field\n        v-model=\"amount\"\n        class=\"derify-input no-padding-hor\"\n        type=\"number\"\n      >\n      </van-field>\n      <span class=\"unit\">USDT</span>\n    </van-cell-group>\n    <div class=\"transfer-div\"><span class=\"span1\">可划转：{{account.accountBalance | fck(-8)}} USDT</span><span class=\"span2\">全部划转</span></div>\n    <div class=\"pay-div\" v-if=\"type === 'deposit'\" @click=\"deposit\">充值</div>\n    <div class=\"pay-div\" v-if=\"type === 'withdraw'\" @click=\"withdraw\">提现</div>\n  </div>\n</template>\n<script>\nimport { toContractUnit } from '../../../utils/contractUtil'\nimport { UserProcessStatus } from '../../../store/modules/user'\n\nexport default {\n  name: 'transfer',\n  data () {\n    return {\n      amount: '',\n      type: 'deposit'\n    }\n  },\n  computed: {\n    account () {\n      return this.$store.state.contract.account\n    }\n  },\n  mounted () {\n    this.type = (this.$route.query && this.$route.query.type) || 'deposit'\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.go(-1)\n    },\n    changeType () {\n      this.type = this.type === 'deposit' ? 'withdraw' : 'deposit'\n    },\n    deposit () {\n      if (!this.amount) {\n        this.$toast('请输入正确的数量')\n        return false\n      }\n      const a = parseFloat(this.amount)\n      const amount = toContractUnit(a)\n\n      this.$userProcessBox({status: UserProcessStatus.waiting, msg: '交易执行中,请等待'});\n      this.$store.dispatch('contract/depositAccount', amount).then(_ => {\n        this.$userProcessBox({status: UserProcessStatus.success, msg: '交易执行成功!'});\n        setTimeout(() => {\n          this.$userProcessBox({status: UserProcessStatus.finished, msg: ''});\n          this.$router.go(-1)\n        }, 1000)\n\n      }).catch(e => {\n        this.$userProcessBox({status: UserProcessStatus.failed, msg: '交易执行异常: ' + err})\n      }).finally( _ => {\n        this.$router.go(-1)\n      })\n    },\n    withdraw () {\n      if (!this.amount) {\n        this.$toast('请输入正确的数量')\n        return false\n      }\n\n      const a = parseFloat(this.amount)\n      const amount = toContractUnit(a)\n      this.$userProcessBox({status: UserProcessStatus.waiting, msg: '交易执行中,请等待'});\n\n      this.$store.dispatch('contract/withdrawAccount', amount).then(_ => {\n        this.$userProcessBox({status: UserProcessStatus.success, msg: '交易执行成功!'})\n\n        setTimeout(() => {\n          this.$userProcessBox({status: UserProcessStatus.finished, msg: ''})\n          this.$router.go(-1)\n        }, 1000)\n\n      }).catch(err => {\n        this.$toast(`出现异常:` + err)\n        this.$userProcessBox({status: UserProcessStatus.failed, msg: '交易执行异常: ' + err})\n        this.$router.go(-1)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.from-div{\n  font-size: 1.2rem;\n  font-weight: 400;\n  color: rgba(255,255,255,0.45);\n  margin-top: 4rem;\n  margin-bottom: 1.8rem;\n}\n.to-div{\n  margin: 1.9rem 0;\n  display: flex;\n  justify-content: space-between;\n  .span1{\n    font-size: 1.2rem;\n    font-weight: 400;\n    color: rgba(255,255,255,0.45);\n  }\n  .span2{\n    color: #FAE55E;\n    margin-right: 1rem;\n  }\n}\n.num-div{\n  font-size: 1.2rem;\n  font-weight: 400;\n  color: rgba(255,255,255,0.65);\n  margin-top: 1.9rem;\n  margin-bottom: 1rem;\n}\n.transfer-div{\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n  .span1{\n    font-size: 1.2rem;\n    font-weight: 400;\n    color: rgba(255,255,255,0.65);\n  }\n  .span2{\n    font-size: 1.2rem;\n    font-weight: 400;\n    color: #fae247;\n  }\n}\n.pay-div{\n  height: 4.8rem;\n  line-height: 4.8rem;\n  text-align: center;\n  opacity: 1;\n  background: linear-gradient(180deg,#fae55e, #f7d042 100%);\n  border-radius: 2.4rem;\n  color: #140b32;\n  font-size: 1.7rem;\n  font-weight: 500;\n  margin-top: 9rem;\n}\n.van-cell-group {\n  background-color: #140b32;\n}\n.unit{\n  position: absolute;\n  right: 1rem;\n  top: 2rem;\n  font-size: 1.4rem;\n  font-weight: 400;\n  color: rgba(255,255,255,0.65);\n}\n.van-cell-group::after{\n  border: 0;\n  border-bottom: .1rem solid #eeeeee;\n}\n.van-cell::after{\n  border: 0;\n}\n/deep/.van-field__control{\n  font-size: 1.7rem;\n  color: rgba(255,255,255,0.85);\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transfer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./transfer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./transfer.vue?vue&type=template&id=13ba8750&scoped=true&\"\nimport script from \"./transfer.vue?vue&type=script&lang=js&\"\nexport * from \"./transfer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./transfer.vue?vue&type=style&index=0&id=13ba8750&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13ba8750\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}