(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42b4d64c"],{1892:function(s,t,a){"use strict";a("7d60")},1925:function(s,t,a){},2231:function(s,t,a){"use strict";a("e2e0")},"62a3":function(s,t,a){},"682c":function(s,t,a){},7255:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"home-container page-container"},[a("navbar",{attrs:{title:"收益"}}),a("div",{staticClass:"mining-earnings"},[a("div",{staticClass:"earnings-title"},[a("span",{staticClass:"span1"},[s._v("持仓挖矿收益")]),a("span",{staticClass:"span2 fz-12",on:{click:function(t){return s.goDetail(1)}}},[s._v("流水明细 >")])]),a("div",{staticClass:"earnings-num"},[a("span",{staticClass:"span1"},[s._v(s._s(s._f("fck")(s.pmrReward,-8)))]),a("span",{staticClass:"span2"},[s._v("USDT")])]),a("div",{staticClass:"earnings-info"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v(s._s(s._f("fck")(s.accountData.totalPositionAmount,-8)))]),a("span",{staticClass:"span2 fz-11"},[s._v("持仓额（USDT）")])]),s._m(0)]),a("div",{staticClass:"earnings-item"},[a("div",{staticClass:"item-div"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"refund-o",size:"18"}}),s.isLogin?[a("span",{staticClass:"fz-13",on:{click:function(t){return s.withdraw(!0,1)}}},[s._v("提现")])]:[a("span",{staticClass:"fz-13",on:{click:function(t){return s.$loginWallet()}}},[s._v(s._s(s.$t("global.click connect wallet")))])]],2)])]),a("div",{staticClass:"mining-earnings"},[a("div",{staticClass:"earnings-title"},[a("span",{staticClass:"span1"},[s._v("质押权益 eDRF")]),a("span",{staticClass:"span2 fz-12",on:{click:function(t){return s.goDetail(2)}}},[s._v("流水明细>")])]),s._m(1),s._m(2),a("div",{staticClass:"earnings-item"},[s.isLogin?[a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"refund-o",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.withdraw(!0,2)}}},[s._v("提现")])],1),a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"peer-pay",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.redeem(!0,1)}}},[s._v("赎回")])],1),a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"cash-on-deliver",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.pledge(!0,1)}}},[s._v("质押")])],1)]:[a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"refund-o",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.$loginWallet()}}},[s._v(s._s(s.$t("global.click connect wallet")))])],1)]],2)]),a("div",{staticClass:"mining-earnings"},[a("div",{staticClass:"earnings-title"},[a("span",{staticClass:"span1"},[s._v("可兑换债券 bDRF")]),a("span",{staticClass:"span2 fz-12",on:{click:function(t){return s.goDetail(3)}}},[s._v("流水明细 >")])]),a("div",{staticClass:"earnings-num"},[a("span",{staticClass:"span1"},[s._v(s._s(s._f("fck")(s.bondInfo.bondBalance,-8)))]),a("span",{staticClass:"span2"},[s._v("USDT")])]),a("div",{staticClass:"earnings-info"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v(s._s(s._f("fck")(s.bondInfo.bondReturnBalance,-8)))]),a("span",{staticClass:"span2 fz-11"},[s._v("收益计划存入 ( bDRF )")])]),a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v(s._s(s._f("fck")(s.bondInfo.bondAnnualInterestRate,-8))+"%")]),a("span",{staticClass:"span2 fz-11"},[s._v("APY")])])]),a("div",{staticClass:"earnings-item"},[s.isLogin?[a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"refund-o",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.withdraw(!0,3)}}},[s._v("提现")])],1),a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"balance-o",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.deposit(!0)}}},[s._v("兑换")])],1),a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"peer-pay",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.redeem(!0,2)}}},[s._v("赎回")])],1),a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"cash-on-deliver",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.pledge(!0,2)}}},[s._v("质押")])],1)]:[a("div",{staticClass:"item-div flex1"},[a("van-icon",{staticClass:"van-icon",attrs:{name:"refund-o",size:"18"}}),a("span",{staticClass:"fz-13",on:{click:function(t){return s.$loginWallet()}}},[s._v(s._s(s.$t("global.click connect wallet")))])],1)]],2)]),a("div",{staticStyle:{"margin-bottom":"2rem"}},[s._v(" ")]),a("withdraw",{attrs:{show:s.showWithdraw,withdrawId:s.withdrawId},on:{closeWithdraw:s.closeWithdraw}}),a("redeem",{attrs:{show:s.showRedeem,redeemId:s.redeemId},on:{closeRedeem:s.closeRedeem}}),a("pledge",{attrs:{show:s.showPledge,pledgeId:s.pledgeId},on:{closePledge:s.closePledge}}),a("deposit",{attrs:{show:s.showDeposit},on:{closeDeposit:s.closeDeposit}})],1)},i=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v("24891.34")]),a("span",{staticClass:"span2 fz-11"},[s._v("历史累计收益（USDT）")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"earnings-num"},[a("span",{staticClass:"span1"},[s._v("2345.4")]),a("span",{staticClass:"span2"},[s._v("eDRF")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"earnings-info"},[a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v("24891.34")]),a("span",{staticClass:"span2 fz-11"},[s._v("持仓额（DRF）")])]),a("div",{staticClass:"div1"},[a("span",{staticClass:"span1"},[s._v("24891.34")]),a("span",{staticClass:"span2 fz-11"},[s._v("历史累计收益（eDRF）")])])])}],n=a("d178"),o=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:s.close},model:{value:s.showPopup,callback:function(t){s.showPopup=t},expression:"showPopup"}},[a("div",{staticClass:"unwind-popup system-popup"},[a("div",{staticClass:"system-popup-title"},[s._v("提现")]),a("div",[a("div",{staticClass:"popup-text"},[s._v("提现数量")]),a("div",{staticClass:"system-popup-input"},[a("van-field",{staticClass:"derify-input no-padding-hor fz-17",attrs:{placeholder:"0.8",type:"number"},model:{value:s.amount,callback:function(t){s.amount=t},expression:"amount"}}),a("div",{staticClass:"unit"},[s._v(s._s(s.withdrawName))])],1),a("div",{staticClass:"system-popup-num"},[a("span",{staticClass:"popup-span1"},[s._v("可提现：1234567.00000000 "+s._s(s.withdrawName))]),a("span",{staticClass:"popup-span2"},[s._v("全部提现")])])]),a("div",{staticClass:"system-popup-buttons"},[a("div",{staticClass:"system-popup-button cancel",on:{click:s.close}},[s._v("取消")]),a("div",{staticClass:"system-popup-button confirm",on:{click:s.submitThenClose}},[s._v("提现")])])])])},c=[],l=(a("d3b7"),a("f810")),p={props:["show","withdrawId"],data:function(){return{showPopup:this.show,amount:null,curPercent:25,withdrawName:null}},watch:{show:function(){this.showPopup=this.show},withdrawId:function(){1===this.withdrawId?this.withdrawName="USDT":2===this.withdrawId?this.withdrawName="eDRF":this.withdrawName="bDRF"}},methods:{close:function(){this.$emit("closeWithdraw",!1)},submitThenClose:function(){var s=this;1!==this.withdrawId&&2!==this.withdrawId?3!==this.withdrawId||this.$store.dispatch("earnings/withdrawBond",{amount:Object(l["i"])(this.amount)}).then((function(t){s.close()})).catch((function(t){s.close()})).finally((function(t){s.close()})):this.$store.dispatch("earnings/withdrawPMReward",{amount:Object(l["i"])(this.amount)}).then((function(t){s.close()})).catch((function(t){s.close()})).finally((function(t){s.close()}))}}},u=p,d=(a("ae32"),a("2877")),r=Object(d["a"])(u,o,c,!1,null,"cd56f082",null),v=r.exports,h=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:s.close},model:{value:s.showPopup,callback:function(t){s.showPopup=t},expression:"showPopup"}},[a("div",{staticClass:"unwind-popup system-popup"},[a("div",{staticClass:"system-popup-title"},[s._v("赎回"+s._s(s.redeemName))]),a("div",[a("div",{staticClass:"popup-text"},[s._v("赎回数量")]),a("div",{staticClass:"system-popup-input"},[a("van-field",{staticClass:"derify-input no-padding-hor fz-17",attrs:{placeholder:"0.8",type:"number"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}}),a("div",{staticClass:"unit"},[s._v(s._s(s.redeemName))])],1),a("div",{staticClass:"system-popup-num"},[a("span",{staticClass:"popup-span1"},[s._v("可赎回：1234567.00000000 "+s._s(s.redeemName))]),a("span",{staticClass:"popup-span2"},[s._v("全部赎回")])])]),a("div",{staticClass:"system-popup-buttons"},[a("div",{staticClass:"system-popup-button cancel",on:{click:s.close}},[s._v("取消")]),a("div",{staticClass:"system-popup-button confirm",on:{click:s.submitThenClose}},[s._v("赎回")])])])]),a("van-action-sheet",{attrs:{actions:s.actions},on:{select:s.onSelect},model:{value:s.sss,callback:function(t){s.sss=t},expression:"sss"}})],1)},m=[],f=(a("b0c0"),a("d399")),w={props:["show","redeemId"],data:function(){return{showPopup:this.show,value1:null,curPercent:25,redeemName:null,option1:[{text:"市价委托",value:0},{text:"限价委托",value:1}],sss:!1,actions:[{name:"选项一"},{name:"选项二"},{name:"选项三"}]}},watch:{show:function(){this.showPopup=this.show},redeemId:function(){1===this.redeemId?this.redeemName="eDRF":this.redeemName="bDRF"}},methods:{close:function(){this.$emit("closeRedeem",!1)},onSelect:function(s){this.show=!1,Object(f["a"])(s.name)},submitThenClose:function(){var s=this;1===this.redeemId?this.redeemName="eDRF":this.$store.dispatch("earnings/redeemBondFromBank",{amount:Object(l["i"])(this.amount)}).then((function(t){s.close()})).catch((function(t){s.close()})).finally((function(t){s.close()}))}}},C=w,_=(a("1892"),Object(d["a"])(C,h,m,!1,null,"0dd50b2b",null)),b=_.exports,g=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:s.close},model:{value:s.showPopup,callback:function(t){s.showPopup=t},expression:"showPopup"}},[a("div",{staticClass:"unwind-popup system-popup"},[a("div",{staticClass:"system-popup-title"},[s._v("质押"+s._s(s.pledgeName))]),a("div",[a("div",{staticClass:"derify-dropmenu-wrap"},[a("van-dropdown-menu",{staticClass:"derify-dropmenus",attrs:{overlay:!1}},[a("van-dropdown-item",{staticClass:"derify-dropmenu-item",attrs:{options:s.option1},on:{open:function(t){return s.onDropDowOpen()}},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}},[a("div",{staticClass:"derify-dropmenu-title",attrs:{slot:"title"},slot:"title"},[a("span",[s._v(s._s(s.option1[s.value1].text))]),a("van-icon",{attrs:{name:"arrow-down",size:"1.8rem",color:"rgba(255, 255, 255, .85)"}})],1)])],1)],1),a("div",{staticClass:"popup-text"},[s._v("质押数量")]),a("div",{staticClass:"system-popup-input"},[a("van-field",{staticClass:"derify-input no-padding-hor fz-17",attrs:{placeholder:"0.8",type:"number"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}}),a("div",{staticClass:"unit"},[s._v(s._s(s.pledgeName))])],1),a("div",{staticClass:"system-popup-num"},[a("span",{staticClass:"popup-span1"},[s._v("可质押：1234567.00000000 "+s._s(s.pledgeName))]),a("span",{staticClass:"popup-span2"},[s._v("全部质押")])])]),a("div",{staticClass:"system-popup-buttons"},[a("div",{staticClass:"system-popup-button cancel",on:{click:s.close}},[s._v("取消")]),a("div",{staticClass:"system-popup-button confirm",on:{click:s.submitThenClose}},[s._v("质押")])])])])},y=[],D={props:["show","pledgeId"],data:function(){return{showPopup:this.show,value1:0,curPercent:25,pledgeName:null,option1:[{text:"Derify账户",value:0},{text:"钱包账户",value:1}]}},watch:{show:function(){this.showPopup=this.show},pledgeId:function(){1===this.pledgeId?this.pledgeName="eDRF":this.pledgeName="bDRF"}},methods:{close:function(){this.$emit("closePledge",!1)},submitThenClose:function(){1===this.pledgeId||this.$store.dispatch("earnings/depositBondToBank",{amount:Object(l["i"])(this.value1)})},onDropDowOpen:function(){return document.querySelector(".derify-dropmenu-item .van-dropdown-item").style.top="150px"}}},k=D,x=(a("d09c"),Object(d["a"])(k,g,y,!1,null,"304f2022",null)),I=x.exports,z=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("van-popup",{staticClass:"derify-popup",attrs:{round:"",closeable:!1},on:{close:s.close},model:{value:s.showPopup,callback:function(t){s.showPopup=t},expression:"showPopup"}},[a("div",{staticClass:"unwind-popup system-popup"},[a("div",{staticClass:"system-popup-title"},[s._v("兑换bDRF")]),a("div",[a("div",[a("van-dropdown-menu",{staticClass:"derify-dropmenus",attrs:{overlay:!1}},[a("van-dropdown-item",{staticClass:"derify-dropmenu-item",attrs:{options:s.option1},on:{open:s.onDropDowOpen},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}},[a("div",{staticClass:"derify-dropmenu-title",attrs:{slot:"title"},slot:"title"},[a("span",[s._v(s._s(s.option1[s.value1].text))]),a("van-icon",{attrs:{name:"arrow-down",size:"1.8rem",color:"rgba(255, 255, 255, .85)"}})],1)])],1)],1),a("div",{staticClass:"popup-text"},[s._v("兑换数量")]),a("div",{staticClass:"system-popup-input"},[a("van-field",{staticClass:"derify-input no-padding-hor fz-17",attrs:{placeholder:"0.8",type:"number"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}}),a("div",{staticClass:"unit"},[s._v("bDRF")])],1),a("div",{staticClass:"system-popup-num"},[a("span",{staticClass:"popup-span1"},[s._v("可兑换：1234567.00000000 bDRF")]),a("span",{staticClass:"popup-span2"},[s._v("全部兑换")])])]),a("div",{staticClass:"system-popup-buttons"},[a("div",{staticClass:"system-popup-button cancel",on:{click:s.close}},[s._v("取消")]),a("div",{staticClass:"system-popup-button confirm",on:{click:s.submitThenClose}},[s._v("兑换")])])])])},P=[],R={props:["show","withdrawId"],data:function(){return{showPopup:this.show,value1:0,curPercent:25,withdrawName:null,option1:[{text:"Derify账户",value:0},{text:"钱包账户",value:1}]}},watch:{show:function(){this.showPopup=this.show},withdrawId:function(){1===this.withdrawId?this.withdrawName="USDT":2===this.withdrawId?this.withdrawName="eDRF":this.withdrawName="bDRF"}},methods:{close:function(){this.$emit("closeDeposit",!1)},submitThenClose:function(){var s=this;this.$store.dispatch("earnings/exchangeBond",{amount:Object(l["i"])(this.amount)}).then((function(t){s.close()})).catch((function(t){s.close()})).finally((function(t){s.close()}))},onDropDowOpen:function(){return document.querySelector(".derify-dropmenu-item .van-dropdown-item").style.top="150px"}}},$=R,N=(a("80d8"),Object(d["a"])($,z,P,!1,null,"7383331e",null)),F=N.exports,O={name:"earnings",components:{Navbar:n["a"],withdraw:v,redeem:b,pledge:I,deposit:F},data:function(){return{showWithdraw:!1,showRedeem:!1,showPledge:!1,showDeposit:!1,withdrawId:"",redeemId:"",pledgeId:""}},computed:{accountData:function(){var s=this.$store.state.earnings.accountData;return s||{}},pmrReward:function(){return this.$store.state.earnings.pmrReward},bondInfo:function(){var s=this.$store.state.earnings.bondInfo;return s||{}},isLogin:function(){return this.$store.state.user.isLogin}},watch:{"$store.state.user.isLogin":function(){this.loadEarningData()}},methods:{closeWithdraw:function(s){this.showWithdraw=s},closeRedeem:function(s){this.showRedeem=s},closePledge:function(s){this.showPledge=s},closeDeposit:function(s){this.showDeposit=s},withdraw:function(s,t){this.showWithdraw=s,this.withdrawId=t},redeem:function(s,t){this.showRedeem=s,this.redeemId=t},pledge:function(s,t){this.showPledge=s,this.pledgeId=t},deposit:function(s,t){this.showDeposit=s},ClickBox:function(){this.show=!0},goDetail:function(s){this.$router.push({path:"/detail",query:{id:s}})},loadEarningData:function(){this.$store.dispatch("earnings/loadEarningData")}},mounted:function(){}},T=O,j=(a("2231"),Object(d["a"])(T,e,i,!1,null,"12b83408",null));t["default"]=j.exports},"7d60":function(s,t,a){},"80d8":function(s,t,a){"use strict";a("62a3")},ae32:function(s,t,a){"use strict";a("1925")},d09c:function(s,t,a){"use strict";a("682c")},e2e0:function(s,t,a){}}]);
//# sourceMappingURL=chunk-42b4d64c.675ea708.js.map